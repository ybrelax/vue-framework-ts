(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{159:function(t,e,n){"use strict";function r(t,e){for(var n=function(n){Object.defineProperty(t,n,{get:function(){return e[n]}})},r=0,o=Object.keys(e||{});r<o.length;r++){n(o[r])}}function o(t){if(!t._vmdModuleName)throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");return"vuexModuleDecorators/"+t._vmdModuleName}n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a}));var i=function(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules};function a(t,e){var n=o(t);if(e&&e.getters[n])return e.getters[n];if(t._statics)return t._statics;var r=t._genStatic;if(!r)throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");var i=r(e);return e?e.getters[n]=i:t._statics=i,i}var s=["actions","getters","mutations","modules","state","namespaced","commit"];
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function c(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function l(t){return function(e){var n=e,o=function(){return function(t){var e=new t.prototype.constructor({}),n={};return Object.keys(e).forEach((function(t){if(-1===s.indexOf(t))e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(n[t]=e[t]);else if(void 0!==e[t])throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")})),n}(n)};n.state||(n.state=t&&t.stateFactory?o:o()),n.getters||(n.getters={}),n.namespaced||(n.namespaced=t&&t.namespaced),Object.getOwnPropertyNames(n.prototype).forEach((function(t){var e=Object.getOwnPropertyDescriptor(n.prototype,t);e.get&&n.getters&&(n.getters[t]=function(t,n,o,i){var a={context:{state:t,getters:n,rootState:o,rootGetters:i}};return r(a,t),r(a,n),e.get.call(a)})}));var i=t;return i.name&&(Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||i.store};if(!e.store)throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)");return function(t,e,n){var r=e.stateFactory?t.state():t.state;Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&-1===["undefined","function"].indexOf(typeof r[t])&&Object.defineProperty(n,t,{get:function(){return n.store.state[e.name][t]}})}))}(n,i,e),n.getters&&function(t,e,n){Object.keys(t.getters).forEach((function(r){t.namespaced?Object.defineProperty(n,r,{get:function(){return n.store.getters[e.name+"/"+r]}}):Object.defineProperty(n,r,{get:function(){return n.store.getters[r]}})}))}(n,i,e),n.mutations&&function(t,e,n){Object.keys(t.mutations).forEach((function(r){t.namespaced?n[r]=function(){for(var t,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];(t=n.store).commit.apply(t,f([e.name+"/"+r],o))}:n[r]=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=n.store).commit.apply(t,f([r],e))}}))}(n,i,e),n.actions&&function(t,e,n){Object.keys(t.actions).forEach((function(r){t.namespaced?n[r]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return c(this,void 0,void 0,(function(){var o;return u(this,(function(i){return[2,(o=n.store).dispatch.apply(o,f([e.name+"/"+r],t))]}))}))}:n[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c(this,void 0,void 0,(function(){var e;return u(this,(function(o){return[2,(e=n.store).dispatch.apply(e,f([r],t))]}))}))}}))}(n,i,e),e}}),Object.defineProperty(e,"_vmdModuleName",{value:i.name})),i.dynamic&&function(t,e){if(!e.name)throw new Error("Name of module not provided in decorator options");if(!e.store)throw new Error("Store not provided in decorator options when using dynamic option");e.store.registerModule(e.name,t,{preserveState:e.preserveState||!1})}(n,i),e}}function h(t){if("function"!=typeof t)return l(t);l({})(t)}function p(t){var e=t||{},n=e.commit,i=void 0===n?void 0:n,s=e.rawError,f=void 0!==s&&s,l=e.root,h=void 0!==l&&l;return function(t,e,n){var s=t.constructor;s.hasOwnProperty("actions")||(s.actions=Object.assign({},s.actions));var l=n.value,p=function(t,n){return c(this,void 0,void 0,(function(){var c,h,p,d,m;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),c=null,s._genStatic?(h=o(s),(p=t.rootGetters[h]?t.rootGetters[h]:a(s)).context=t,[4,l.call(p,n)]):[3,2];case 1:return c=u.sent(),[3,4];case 2:return r(d={context:t},t.state),r(d,t.getters),[4,l.call(d,n)];case 3:c=u.sent(),u.label=4;case 4:return i&&t.commit(i,c),[2,c];case 5:throw m=u.sent(),f?m:new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n'+new Error("Could not perform action "+e.toString()).stack+"\n"+m.stack);case 6:return[2]}}))}))};s.actions[e]=h?{root:h,handler:p}:p}}function d(t,e,n){if(!e&&!n)return p(t);p()(t,e,n)}function m(t,e,n){var r=t.constructor;r.hasOwnProperty("mutations")||(r.mutations=Object.assign({},r.mutations));var o=n.value;r.mutations[e]=function(t,e){o.call(t,e)}}},176:function(t,e,n){"use strict";(function(t){var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function o(t){return null!==t&&"object"==typeof t}var i=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},a={namespaced:{configurable:!0}};a.namespaced.get=function(){return!!this._rawModule.namespaced},i.prototype.addChild=function(t,e){this._children[t]=e},i.prototype.removeChild=function(t){delete this._children[t]},i.prototype.getChild=function(t){return this._children[t]},i.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},i.prototype.forEachChild=function(t){r(this._children,t)},i.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},i.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},i.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(i.prototype,a);var s=function(t){this.register([],t,!1)};s.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},s.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},s.prototype.update=function(t){!function t(e,n,r){0;if(n.update(r),r.modules)for(var o in r.modules){if(!n.getChild(o))return void 0;t(e.concat(o),n.getChild(o),r.modules[o])}}([],this.root,t)},s.prototype.register=function(t,e,n){var o=this;void 0===n&&(n=!0);var a=new i(e,n);0===t.length?this.root=a:this.get(t.slice(0,-1)).addChild(t[t.length-1],a);e.modules&&r(e.modules,(function(e,r){o.register(t.concat(r),e,n)}))},s.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var c;var u=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var r=t.plugins;void 0===r&&(r=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var i=this,a=this.dispatch,u=this.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return u.call(i,t,e,n)},this.strict=o;var f=this._modules.root.state;d(this,f,[],this._modules.root),p(this,f),r.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:c.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){n.emit("vuex:mutation",t,e)})))}(this)},f={state:{configurable:!0}};function l(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function h(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;d(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var o=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,a={};r(i,(function(e,n){a[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:a}),c.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),o&&(n&&t._withCommit((function(){o._data.$$state=null})),c.nextTick((function(){return o.$destroy()})))}function d(t,e,n,r,o){var i=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!i&&!o){var s=m(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){c.set(s,u,r.state)}))}var f=r.context=function(t,e,n){var r=""===e,o={dispatch:r?t.dispatch:function(n,r,o){var i=v(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=e+c),t.dispatch(c,a)},commit:r?t.commit:function(n,r,o){var i=v(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=e+c),t.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return m(t.state,n)}}}),o}(t,a,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,a+n,e,f)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,o=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var o,i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}(t,r,o,f)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,a+n,e,f)})),r.forEachChild((function(r,i){d(t,e,n.concat(i),r,o)}))}function m(t,e){return e.reduce((function(t,e){return t[e]}),t)}function v(t,e,n){return o(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){c&&t===c||
/**
 * vuex v3.1.3
 * (c) 2020 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},u.prototype.commit=function(t,e,n){var r=this,o=v(t,e,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},u.prototype.dispatch=function(t,e){var n=this,r=v(t,e),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(t){0}return(s.length>1?Promise.all(s.map((function(t){return t(i)}))):s[0](i)).then((function(t){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(t){0}return t}))}},u.prototype.subscribe=function(t){return l(t,this._subscribers)},u.prototype.subscribeAction=function(t){return l("function"==typeof t?{before:t}:t,this._actionSubscribers)},u.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},u.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},u.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),d(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=m(e.state,t.slice(0,-1));c.delete(n,t[t.length-1])})),h(this)},u.prototype.hotUpdate=function(t){this._modules.update(t),h(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,f);var g=O((function(t,e){var n={};return E(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=M(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[r].vuex=!0})),n})),_=O((function(t,e){var n={};return E(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var i=M(this.$store,"mapMutations",t);if(!i)return;r=i.context.commit}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n})),b=O((function(t,e){var n={};return E(e).forEach((function(e){var r=e.key,o=e.val;o=t+o,n[r]=function(){if(!t||M(this.$store,"mapGetters",t))return this.$store.getters[o]},n[r].vuex=!0})),n})),w=O((function(t,e){var n={};return E(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var i=M(this.$store,"mapActions",t);if(!i)return;r=i.context.dispatch}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n}));function E(t){return function(t){return Array.isArray(t)||o(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function O(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function M(t,e,n){return t._modulesNamespaceMap[n]}var k={Store:u,install:y,version:"3.1.3",mapState:g,mapMutations:_,mapGetters:b,mapActions:w,createNamespacedHelpers:function(t){return{mapState:g.bind(null,t),mapGetters:b.bind(null,t),mapMutations:_.bind(null,t),mapActions:w.bind(null,t)}}};e.a=k}).call(this,n(16))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVleC1tb2R1bGUtZGVjb3JhdG9ycy9kaXN0L2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVleC9kaXN0L3Z1ZXguZXNtLmpzIl0sIm5hbWVzIjpbImFkZFByb3BlcnRpZXNUb09iamVjdCIsInRhcmdldCIsInNvdXJjZSIsIl9sb29wXzEiLCJrIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJfaSIsIl9hIiwia2V5cyIsImxlbmd0aCIsImdldE1vZHVsZU5hbWUiLCJtb2R1bGUiLCJfdm1kTW9kdWxlTmFtZSIsIkVycm9yIiwiVnVleE1vZHVsZSIsInRoaXMiLCJhY3Rpb25zIiwibXV0YXRpb25zIiwic3RhdGUiLCJnZXR0ZXJzIiwibmFtZXNwYWNlZCIsIm1vZHVsZXMiLCJnZXRNb2R1bGUiLCJtb2R1bGVDbGFzcyIsInN0b3JlIiwibW9kdWxlTmFtZSIsIl9zdGF0aWNzIiwiZ2VuU3RhdGljIiwiX2dlblN0YXRpYyIsInN0b3JlTW9kdWxlIiwicmVzZXJ2ZWRLZXlzIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJjYWxsIiwicG9wIiwicHVzaCIsIl9fc3ByZWFkQXJyYXlzIiwicyIsImkiLCJpbCIsImFyZ3VtZW50cyIsInIiLCJBcnJheSIsImEiLCJqIiwiamwiLCJtb2R1bGVEZWNvcmF0b3JGYWN0b3J5IiwibW9kdWxlT3B0aW9ucyIsImNvbnN0cnVjdG9yIiwic3RhdGVGYWN0b3J5JDEiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwia2V5IiwiaW5kZXhPZiIsImhhc093blByb3BlcnR5Iiwic3RhdGVGYWN0b3J5IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZ1bmNOYW1lIiwiZGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInJvb3RTdGF0ZSIsInJvb3RHZXR0ZXJzIiwidGhpc09iaiIsImNvbnRleHQiLCJtb2RPcHQiLCJuYW1lIiwic3RhdGljcyIsInN0YXRpY1N0YXRlR2VuZXJhdG9yIiwic3RhdGljR2V0dGVyR2VuZXJhdG9yIiwiYXJncyIsImNvbW1pdCIsInN0YXRpY011dGF0aW9uR2VuZXJhdG9yIiwiX2IiLCJkaXNwYXRjaCIsInN0YXRpY0FjdGlvbkdlbmVyYXRvcnMiLCJkeW5hbWljIiwicmVnaXN0ZXJNb2R1bGUiLCJwcmVzZXJ2ZVN0YXRlIiwicmVnaXN0ZXJEeW5hbWljTW9kdWxlIiwiTW9kdWxlIiwibW9kT3JPcHQiLCJhY3Rpb25EZWNvcmF0b3JGYWN0b3J5IiwicGFyYW1zIiwidW5kZWZpbmVkIiwiX2MiLCJyYXdFcnJvciIsIl9kIiwicm9vdCIsImFzc2lnbiIsImFjdGlvbkZ1bmN0aW9uIiwiYWN0aW9uIiwicGF5bG9hZCIsImFjdGlvblBheWxvYWQiLCJtb2R1bGVBY2Nlc3NvciIsImVfMSIsInRvU3RyaW5nIiwic3RhY2siLCJoYW5kbGVyIiwiQWN0aW9uIiwidGFyZ2V0T3JQYXJhbXMiLCJNdXRhdGlvbiIsIm11dGF0aW9uRnVuY3Rpb24iLCJkZXZ0b29sSG9vayIsIndpbmRvdyIsImdsb2JhbCIsIl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJmb3JFYWNoVmFsdWUiLCJvYmoiLCJmbiIsImlzT2JqZWN0IiwicmF3TW9kdWxlIiwicnVudGltZSIsIl9jaGlsZHJlbiIsImNyZWF0ZSIsIl9yYXdNb2R1bGUiLCJyYXdTdGF0ZSIsInByb3RvdHlwZUFjY2Vzc29ycyIsImNvbmZpZ3VyYWJsZSIsImFkZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJnZXRDaGlsZCIsInVwZGF0ZSIsImZvckVhY2hDaGlsZCIsImZvckVhY2hHZXR0ZXIiLCJmb3JFYWNoQWN0aW9uIiwiZm9yRWFjaE11dGF0aW9uIiwiZGVmaW5lUHJvcGVydGllcyIsIk1vZHVsZUNvbGxlY3Rpb24iLCJyYXdSb290TW9kdWxlIiwicmVnaXN0ZXIiLCJwYXRoIiwicmVkdWNlIiwiZ2V0TmFtZXNwYWNlIiwibmFtZXNwYWNlIiwidGFyZ2V0TW9kdWxlIiwibmV3TW9kdWxlIiwiY29uY2F0IiwidGhpcyQxIiwic2xpY2UiLCJyYXdDaGlsZE1vZHVsZSIsInVucmVnaXN0ZXIiLCJwYXJlbnQiLCJWdWUiLCJTdG9yZSIsIm9wdGlvbnMiLCJpbnN0YWxsIiwicGx1Z2lucyIsInN0cmljdCIsIl9jb21taXR0aW5nIiwiX2FjdGlvbnMiLCJfYWN0aW9uU3Vic2NyaWJlcnMiLCJfbXV0YXRpb25zIiwiX3dyYXBwZWRHZXR0ZXJzIiwiX21vZHVsZXMiLCJfbW9kdWxlc05hbWVzcGFjZU1hcCIsIl9zdWJzY3JpYmVycyIsIl93YXRjaGVyVk0iLCJfbWFrZUxvY2FsR2V0dGVyc0NhY2hlIiwidHlwZSIsImluc3RhbGxNb2R1bGUiLCJyZXNldFN0b3JlVk0iLCJwbHVnaW4iLCJkZXZ0b29scyIsImNvbmZpZyIsIl9kZXZ0b29sSG9vayIsImVtaXQiLCJvbiIsInRhcmdldFN0YXRlIiwicmVwbGFjZVN0YXRlIiwic3Vic2NyaWJlIiwibXV0YXRpb24iLCJkZXZ0b29sUGx1Z2luIiwicHJvdG90eXBlQWNjZXNzb3JzJDEiLCJnZW5lcmljU3Vic2NyaWJlIiwic3VicyIsInNwbGljZSIsInJlc2V0U3RvcmUiLCJob3QiLCJvbGRWbSIsIl92bSIsIndyYXBwZWRHZXR0ZXJzIiwiY29tcHV0ZWQiLCJhcmciLCJwYXJ0aWFsIiwiZW51bWVyYWJsZSIsInNpbGVudCIsImRhdGEiLCIkJHN0YXRlIiwiJHdhdGNoIiwiX2RhdGEiLCJkZWVwIiwic3luYyIsImVuYWJsZVN0cmljdE1vZGUiLCJfd2l0aENvbW1pdCIsIm5leHRUaWNrIiwiJGRlc3Ryb3kiLCJpc1Jvb3QiLCJwYXJlbnRTdGF0ZSIsImdldE5lc3RlZFN0YXRlIiwic2V0IiwibG9jYWwiLCJub05hbWVzcGFjZSIsIl90eXBlIiwiX3BheWxvYWQiLCJfb3B0aW9ucyIsInVuaWZ5T2JqZWN0U3R5bGUiLCJnZXR0ZXJzUHJveHkiLCJzcGxpdFBvcyIsImxvY2FsVHlwZSIsIm1ha2VMb2NhbEdldHRlcnMiLCJtYWtlTG9jYWxDb250ZXh0IiwicmVnaXN0ZXJNdXRhdGlvbiIsInZhbCIsInJlcyIsImNhdGNoIiwiZXJyIiwicmVnaXN0ZXJBY3Rpb24iLCJnZXR0ZXIiLCJyYXdHZXR0ZXIiLCJyZWdpc3RlckdldHRlciIsImNoaWxkIiwiX1Z1ZSIsIk51bWJlciIsInZlcnNpb24iLCJzcGxpdCIsIm1peGluIiwiYmVmb3JlQ3JlYXRlIiwidnVleEluaXQiLCJfaW5pdCIsImluaXQiLCIkb3B0aW9ucyIsIiRzdG9yZSIsImFwcGx5TWl4aW4iLCJyZWYiLCJlbnRyeSIsInN1YiIsImZpbHRlciIsImJlZm9yZSIsImFsbCIsIm1hcCIsImFmdGVyIiwic3Vic2NyaWJlQWN0aW9uIiwid2F0Y2giLCJjYiIsInVucmVnaXN0ZXJNb2R1bGUiLCJkZWxldGUiLCJob3RVcGRhdGUiLCJuZXdPcHRpb25zIiwiY29tbWl0dGluZyIsIm1hcFN0YXRlIiwibm9ybWFsaXplTmFtZXNwYWNlIiwic3RhdGVzIiwibm9ybWFsaXplTWFwIiwiZ2V0TW9kdWxlQnlOYW1lc3BhY2UiLCJ2dWV4IiwibWFwTXV0YXRpb25zIiwibGVuIiwibWFwR2V0dGVycyIsIm1hcEFjdGlvbnMiLCJpc0FycmF5IiwiaXNWYWxpZE1hcCIsImNoYXJBdCIsImhlbHBlciIsImluZGV4X2VzbSIsImNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIiwiYmluZCJdLCJtYXBwaW5ncyI6IjBGQU1BLFNBQVNBLEVBQXNC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QVdPLEtBQUssS0FBTXBJLE1BdUVyQixRIiwiZmlsZSI6IjUuYzJjMzlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRha2VzIHRoZSBwcm9wZXJ0aWVzIG9uIG9iamVjdCBmcm9tIHBhcmFtZXRlciBzb3VyY2UgYW5kIGFkZHMgdGhlbSB0byB0aGUgb2JqZWN0XHJcbiAqIHBhcmFtZXRlciB0YXJnZXRcclxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCAgT2JqZWN0IHRvIGhhdmUgcHJvcGVydGllcyBjb3BpZWQgb250byBmcm9tIHlcclxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAgT2JqZWN0IHdpdGggcHJvcGVydGllcyB0byBiZSBjb3BpZWQgdG8geFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkUHJvcGVydGllc1RvT2JqZWN0KHRhcmdldCwgc291cmNlKSB7XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgaywge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZVtrXTsgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhzb3VyY2UgfHwge30pOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBrID0gX2FbX2ldO1xyXG4gICAgICAgIF9sb29wXzEoayk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBuYW1lc3BhY2VkIG5hbWUgb2YgdGhlIG1vZHVsZSB0byBiZSB1c2VkIGFzIGEgc3RvcmUgZ2V0dGVyXHJcbiAqIEBwYXJhbSBtb2R1bGVcclxuICovXHJcbmZ1bmN0aW9uIGdldE1vZHVsZU5hbWUobW9kdWxlKSB7XHJcbiAgICBpZiAoIW1vZHVsZS5fdm1kTW9kdWxlTmFtZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUl9HRVRfTU9EVUxFX05BTUUgOiBDb3VsZCBub3QgZ2V0IG1vZHVsZSBhY2Nlc3Nvci5cXG4gICAgICBNYWtlIHN1cmUgeW91ciBtb2R1bGUgaGFzIG5hbWUsIHdlIGNhbid0IG1ha2UgYWNjZXNzb3JzIGZvciB1bm5hbWVkIG1vZHVsZXNcXG4gICAgICBpLmUuIEBNb2R1bGUoeyBuYW1lOiAnc29tZXRoaW5nJyB9KVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBcInZ1ZXhNb2R1bGVEZWNvcmF0b3JzL1wiICsgbW9kdWxlLl92bWRNb2R1bGVOYW1lO1xyXG59XG5cbnZhciBWdWV4TW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVnVleE1vZHVsZShtb2R1bGUpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBtb2R1bGUuYWN0aW9ucztcclxuICAgICAgICB0aGlzLm11dGF0aW9ucyA9IG1vZHVsZS5tdXRhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG1vZHVsZS5zdGF0ZTtcclxuICAgICAgICB0aGlzLmdldHRlcnMgPSBtb2R1bGUuZ2V0dGVycztcclxuICAgICAgICB0aGlzLm5hbWVzcGFjZWQgPSBtb2R1bGUubmFtZXNwYWNlZDtcclxuICAgICAgICB0aGlzLm1vZHVsZXMgPSBtb2R1bGUubW9kdWxlcztcclxuICAgIH1cclxuICAgIHJldHVybiBWdWV4TW9kdWxlO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBnZXRNb2R1bGUobW9kdWxlQ2xhc3MsIHN0b3JlKSB7XHJcbiAgICB2YXIgbW9kdWxlTmFtZSA9IGdldE1vZHVsZU5hbWUobW9kdWxlQ2xhc3MpO1xyXG4gICAgaWYgKHN0b3JlICYmIHN0b3JlLmdldHRlcnNbbW9kdWxlTmFtZV0pIHtcclxuICAgICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1ttb2R1bGVOYW1lXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG1vZHVsZUNsYXNzLl9zdGF0aWNzKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZUNsYXNzLl9zdGF0aWNzO1xyXG4gICAgfVxyXG4gICAgdmFyIGdlblN0YXRpYyA9IG1vZHVsZUNsYXNzLl9nZW5TdGF0aWM7XHJcbiAgICBpZiAoIWdlblN0YXRpYykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUl9HRVRfTU9EVUxFX05PX1NUQVRJQ1MgOiBDb3VsZCBub3QgZ2V0IG1vZHVsZSBhY2Nlc3Nvci5cXG4gICAgICBNYWtlIHN1cmUgeW91ciBtb2R1bGUgaGFzIG5hbWUsIHdlIGNhbid0IG1ha2UgYWNjZXNzb3JzIGZvciB1bm5hbWVkIG1vZHVsZXNcXG4gICAgICBpLmUuIEBNb2R1bGUoeyBuYW1lOiAnc29tZXRoaW5nJyB9KVwiKTtcclxuICAgIH1cclxuICAgIHZhciBzdG9yZU1vZHVsZSA9IGdlblN0YXRpYyhzdG9yZSk7XHJcbiAgICBpZiAoc3RvcmUpIHtcclxuICAgICAgICBzdG9yZS5nZXR0ZXJzW21vZHVsZU5hbWVdID0gc3RvcmVNb2R1bGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBtb2R1bGVDbGFzcy5fc3RhdGljcyA9IHN0b3JlTW9kdWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0b3JlTW9kdWxlO1xyXG59XG5cbnZhciByZXNlcnZlZEtleXMgPSBbJ2FjdGlvbnMnLCAnZ2V0dGVycycsICdtdXRhdGlvbnMnLCAnbW9kdWxlcycsICdzdGF0ZScsICduYW1lc3BhY2VkJywgJ2NvbW1pdCddO1xyXG5mdW5jdGlvbiBzdGF0ZUZhY3RvcnkobW9kdWxlKSB7XHJcbiAgICB2YXIgc3RhdGUgPSBuZXcgbW9kdWxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcih7fSk7XHJcbiAgICB2YXIgcyA9IHt9O1xyXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChyZXNlcnZlZEtleXMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFUlJfUkVTRVJWRURfU1RBVEVfS0VZX1VTRUQ6IFlvdSBjYW5ub3QgdXNlIHRoZSBmb2xsb3dpbmdcXG4gICAgICAgIFsnYWN0aW9ucycsICdnZXR0ZXJzJywgJ211dGF0aW9ucycsICdtb2R1bGVzJywgJ3N0YXRlJywgJ25hbWVzcGFjZWQnLCAnY29tbWl0J11cXG4gICAgICAgIGFzIGZpZWxkcyBpbiB5b3VyIG1vZHVsZS4gVGhlc2UgYXJlIHJlc2VydmVkIGFzIHRoZXkgaGF2ZSBzcGVjaWFsIHB1cnBvc2UgaW4gVnVleFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgc1trZXldID0gc3RhdGVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHM7XHJcbn1cblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG5mdW5jdGlvbiBzdGF0aWNTdGF0ZUdlbmVyYXRvcihtb2R1bGUsIG1vZE9wdCwgc3RhdGljcykge1xyXG4gICAgdmFyIHN0YXRlID0gbW9kT3B0LnN0YXRlRmFjdG9yeSA/IG1vZHVsZS5zdGF0ZSgpIDogbW9kdWxlLnN0YXRlO1xyXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChzdGF0ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vdCB1bmRlZmluZWQgb3IgZnVuY3Rpb24gbWVhbnMgaXQgaXMgYSBzdGF0ZSB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoWyd1bmRlZmluZWQnLCAnZnVuY3Rpb24nXS5pbmRleE9mKHR5cGVvZiBzdGF0ZVtrZXldKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdGF0aWNzLCBrZXksIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRpY3Muc3RvcmUuc3RhdGVbbW9kT3B0Lm5hbWVdW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzdGF0aWNHZXR0ZXJHZW5lcmF0b3IobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpIHtcclxuICAgIE9iamVjdC5rZXlzKG1vZHVsZS5nZXR0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0YXRpY3MsIGtleSwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRpY3Muc3RvcmUuZ2V0dGVyc1ttb2RPcHQubmFtZSArIFwiL1wiICsga2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RhdGljcywga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGljcy5zdG9yZS5nZXR0ZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXRpY011dGF0aW9uR2VuZXJhdG9yKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKSB7XHJcbiAgICBPYmplY3Qua2V5cyhtb2R1bGUubXV0YXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBpZiAobW9kdWxlLm5hbWVzcGFjZWQpIHtcclxuICAgICAgICAgICAgc3RhdGljc1trZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKF9hID0gc3RhdGljcy5zdG9yZSkuY29tbWl0LmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5cyhbbW9kT3B0Lm5hbWUgKyBcIi9cIiArIGtleV0sIGFyZ3MpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXRpY3Nba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIChfYSA9IHN0YXRpY3Muc3RvcmUpLmNvbW1pdC5hcHBseShfYSwgX19zcHJlYWRBcnJheXMoW2tleV0sIGFyZ3MpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzdGF0aWNBY3Rpb25HZW5lcmF0b3JzKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKSB7XHJcbiAgICBPYmplY3Qua2V5cyhtb2R1bGUuYWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKG1vZHVsZS5uYW1lc3BhY2VkKSB7XHJcbiAgICAgICAgICAgIHN0YXRpY3Nba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgKF9hID0gc3RhdGljcy5zdG9yZSkuZGlzcGF0Y2guYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXlzKFttb2RPcHQubmFtZSArIFwiL1wiICsga2V5XSwgYXJncykpXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RhdGljc1trZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAoX2EgPSBzdGF0aWNzLnN0b3JlKS5kaXNwYXRjaC5hcHBseShfYSwgX19zcHJlYWRBcnJheXMoW2tleV0sIGFyZ3MpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiByZWdpc3RlckR5bmFtaWNNb2R1bGUobW9kdWxlLCBtb2RPcHQpIHtcclxuICAgIGlmICghbW9kT3B0Lm5hbWUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hbWUgb2YgbW9kdWxlIG5vdCBwcm92aWRlZCBpbiBkZWNvcmF0b3Igb3B0aW9ucycpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFtb2RPcHQuc3RvcmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0b3JlIG5vdCBwcm92aWRlZCBpbiBkZWNvcmF0b3Igb3B0aW9ucyB3aGVuIHVzaW5nIGR5bmFtaWMgb3B0aW9uJyk7XHJcbiAgICB9XHJcbiAgICBtb2RPcHQuc3RvcmUucmVnaXN0ZXJNb2R1bGUobW9kT3B0Lm5hbWUsIC8vIFRPRE86IEhhbmRsZSBuZXN0ZWQgbW9kdWxlcyB0b28gaW4gZnV0dXJlXHJcbiAgICBtb2R1bGUsIHsgcHJlc2VydmVTdGF0ZTogbW9kT3B0LnByZXNlcnZlU3RhdGUgfHwgZmFsc2UgfSk7XHJcbn1cclxuZnVuY3Rpb24gbW9kdWxlRGVjb3JhdG9yRmFjdG9yeShtb2R1bGVPcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgdmFyIG1vZHVsZSA9IGNvbnN0cnVjdG9yO1xyXG4gICAgICAgIHZhciBzdGF0ZUZhY3RvcnkkMSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlRmFjdG9yeShtb2R1bGUpOyB9O1xyXG4gICAgICAgIGlmICghbW9kdWxlLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5zdGF0ZSA9IG1vZHVsZU9wdGlvbnMgJiYgbW9kdWxlT3B0aW9ucy5zdGF0ZUZhY3RvcnkgPyBzdGF0ZUZhY3RvcnkkMSA6IHN0YXRlRmFjdG9yeSQxKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbW9kdWxlLmdldHRlcnMpIHtcclxuICAgICAgICAgICAgbW9kdWxlLmdldHRlcnMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtb2R1bGUubmFtZXNwYWNlZCkge1xyXG4gICAgICAgICAgICBtb2R1bGUubmFtZXNwYWNlZCA9IG1vZHVsZU9wdGlvbnMgJiYgbW9kdWxlT3B0aW9ucy5uYW1lc3BhY2VkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtb2R1bGUucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jTmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobW9kdWxlLnByb3RvdHlwZSwgZnVuY05hbWUpO1xyXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvci5nZXQgJiYgbW9kdWxlLmdldHRlcnMpIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS5nZXR0ZXJzW2Z1bmNOYW1lXSA9IGZ1bmN0aW9uIChzdGF0ZSwgZ2V0dGVycywgcm9vdFN0YXRlLCByb290R2V0dGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzT2JqID0geyBjb250ZXh0OiB7IHN0YXRlOiBzdGF0ZSwgZ2V0dGVyczogZ2V0dGVycywgcm9vdFN0YXRlOiByb290U3RhdGUsIHJvb3RHZXR0ZXJzOiByb290R2V0dGVycyB9IH07XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUHJvcGVydGllc1RvT2JqZWN0KHRoaXNPYmosIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGhpc09iaiwgZ2V0dGVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdvdCA9IGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpc09iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdvdDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgbW9kT3B0ID0gbW9kdWxlT3B0aW9ucztcclxuICAgICAgICBpZiAobW9kT3B0Lm5hbWUpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnX2dlblN0YXRpYycsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoc3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGljcyA9IHsgc3RvcmU6IHN0b3JlIHx8IG1vZE9wdC5zdG9yZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGljcy5zdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFUlJfU1RPUkVfTk9UX1BST1ZJREVEOiBUbyB1c2UgZ2V0TW9kdWxlKCksIGVpdGhlciB0aGUgbW9kdWxlXFxuICAgICAgICAgICAgc2hvdWxkIGJlIGRlY29yYXRlZCB3aXRoIHN0b3JlIGluIGRlY29yYXRvciwgaS5lLiBATW9kdWxlKHtzdG9yZTogc3RvcmV9KSBvclxcbiAgICAgICAgICAgIHN0b3JlIHNob3VsZCBiZSBwYXNzZWQgd2hlbiBjYWxsaW5nIGdldE1vZHVsZSgpLCBpLmUuIGdldE1vZHVsZShNeU1vZHVsZSwgdGhpcy4kc3RvcmUpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyA9PT09PT09PT09PSAgRm9yIHN0YXRpY3MgPT09PT09PT09PT09PT1cclxuICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLS0gc3RhdGUgLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0YXRlR2VuZXJhdG9yKG1vZHVsZSwgbW9kT3B0LCBzdGF0aWNzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLS0tIGdldHRlcnMgLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGUuZ2V0dGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNHZXR0ZXJHZW5lcmF0b3IobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLSBtdXRhdGlvbnMgLS0tLS0tLS1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlLm11dGF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNNdXRhdGlvbkdlbmVyYXRvcihtb2R1bGUsIG1vZE9wdCwgc3RhdGljcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tIGFjdGlvbnMgLS0tLS0tLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0FjdGlvbkdlbmVyYXRvcnMobW9kdWxlLCBtb2RPcHQsIHN0YXRpY3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGljcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ192bWRNb2R1bGVOYW1lJywge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1vZE9wdC5uYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kT3B0LmR5bmFtaWMpIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJEeW5hbWljTW9kdWxlKG1vZHVsZSwgbW9kT3B0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBNb2R1bGUobW9kT3JPcHQpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kT3JPcHQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEBNb2R1bGUgZGVjb3JhdG9yIGNhbGxlZCB3aXRob3V0IG9wdGlvbnMgKGRpcmVjdGx5IG9uIHRoZSBjbGFzcyBkZWZpbml0aW9uKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vZHVsZURlY29yYXRvckZhY3Rvcnkoe30pKG1vZE9yT3B0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogQE1vZHVsZSh7Li4ufSkgZGVjb3JhdG9yIGNhbGxlZCB3aXRoIG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gbW9kdWxlRGVjb3JhdG9yRmFjdG9yeShtb2RPck9wdCk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gYWN0aW9uRGVjb3JhdG9yRmFjdG9yeShwYXJhbXMpIHtcclxuICAgIHZhciBfYSA9IHBhcmFtcyB8fCB7fSwgX2IgPSBfYS5jb21taXQsIGNvbW1pdCA9IF9iID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfYiwgX2MgPSBfYS5yYXdFcnJvciwgcmF3RXJyb3IgPSBfYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYywgX2QgPSBfYS5yb290LCByb290ID0gX2QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2Q7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgdmFyIG1vZHVsZSA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBpZiAoIW1vZHVsZS5oYXNPd25Qcm9wZXJ0eSgnYWN0aW9ucycpKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZS5hY3Rpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlLmFjdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWN0aW9uRnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG4gICAgICAgIHZhciBhY3Rpb24gPSBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uUGF5bG9hZCwgbW9kdWxlTmFtZSwgbW9kdWxlQWNjZXNzb3IsIHRoaXNPYmosIGVfMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgNSwgLCA2XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kdWxlLl9nZW5TdGF0aWMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZSA9IGdldE1vZHVsZU5hbWUobW9kdWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUFjY2Vzc29yID0gY29udGV4dC5yb290R2V0dGVyc1ttb2R1bGVOYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29udGV4dC5yb290R2V0dGVyc1ttb2R1bGVOYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0TW9kdWxlKG1vZHVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVBY2Nlc3Nvci5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGFjdGlvbkZ1bmN0aW9uLmNhbGwobW9kdWxlQWNjZXNzb3IsIHBheWxvYWQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uUGF5bG9hZCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT2JqID0geyBjb250ZXh0OiBjb250ZXh0IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGhpc09iaiwgY29udGV4dC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9wZXJ0aWVzVG9PYmplY3QodGhpc09iaiwgY29udGV4dC5nZXR0ZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGFjdGlvbkZ1bmN0aW9uLmNhbGwodGhpc09iaiwgcGF5bG9hZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoY29tbWl0LCBhY3Rpb25QYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBhY3Rpb25QYXlsb2FkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmF3RXJyb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVfMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEVycm9yKCdFUlJfQUNUSU9OX0FDQ0VTU19VTkRFRklORUQ6IEFyZSB5b3UgdHJ5aW5nIHRvIGFjY2VzcyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoaXMuc29tZU11dGF0aW9uKCkgb3IgdGhpcy5zb21lR2V0dGVyIGluc2lkZSBhbiBAQWN0aW9uPyBcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoYXQgd29ya3Mgb25seSBpbiBkeW5hbWljIG1vZHVsZXMuIFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSWYgbm90IGR5bmFtaWMgdXNlIHRoaXMuY29udGV4dC5jb21taXQoXCJtdXRhdGlvbk5hbWVcIiwgcGF5bG9hZCkgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmQgdGhpcy5jb250ZXh0LmdldHRlcnNbXCJnZXR0ZXJOYW1lXCJdJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKFwiQ291bGQgbm90IHBlcmZvcm0gYWN0aW9uIFwiICsga2V5LnRvU3RyaW5nKCkpLnN0YWNrICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzEuc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBtb2R1bGUuYWN0aW9uc1trZXldID0gcm9vdCA/IHsgcm9vdDogcm9vdCwgaGFuZGxlcjogYWN0aW9uIH0gOiBhY3Rpb247XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBUaGUgQEFjdGlvbiBkZWNvcmF0b3IgdHVybnMgYW4gYXN5bmMgZnVuY3Rpb24gaW50byBhbiBWdWV4IGFjdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gdGFyZ2V0T3JQYXJhbXMgdGhlIG1vZHVsZSBjbGFzc1xyXG4gKiBAcGFyYW0ga2V5IG5hbWUgb2YgdGhlIGFjdGlvblxyXG4gKiBAcGFyYW0gZGVzY3JpcHRvciB0aGUgYWN0aW9uIGZ1bmN0aW9uIGRlc2NyaXB0b3JcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBBY3Rpb24odGFyZ2V0T3JQYXJhbXMsIGtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKCFrZXkgJiYgIWRlc2NyaXB0b3IpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBgdGFyZ2V0T3JQYXJhbXNgIGlzIHBhcmFtcy5cclxuICAgICAgICAgKiBpLmUuIHdoZW4gdXNlZCBhcyAtXHJcbiAgICAgICAgICogPHByZT5cclxuICAgICAgICAgICAgQEFjdGlvbih7Y29tbWl0OiAnaW5jckNvdW50J30pXHJcbiAgICAgICAgICAgIGFzeW5jIGdldENvdW50RGVsdGEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIDVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAqIDwvcHJlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBhY3Rpb25EZWNvcmF0b3JGYWN0b3J5KHRhcmdldE9yUGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVGhpcyBpcyB0aGUgY2FzZSB3aGVuIEBBY3Rpb24gaXMgY2FsbGVkIG9uIGFjdGlvbiBmdW5jdGlvblxyXG4gICAgICAgICAqIHdpdGhvdXQgYW55IHBhcmFtc1xyXG4gICAgICAgICAqIDxwcmU+XHJcbiAgICAgICAgICogICBAQWN0aW9uXHJcbiAgICAgICAgICogICBhc3luYyBkb1NvbWV0aGluZygpIHtcclxuICAgICAgICAgKiAgICAuLi5cclxuICAgICAgICAgKiAgIH1cclxuICAgICAgICAgKiA8L3ByZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICBhY3Rpb25EZWNvcmF0b3JGYWN0b3J5KCkodGFyZ2V0T3JQYXJhbXMsIGtleSwgZGVzY3JpcHRvcik7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gTXV0YXRpb24odGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgIHZhciBtb2R1bGUgPSB0YXJnZXQuY29uc3RydWN0b3I7XHJcbiAgICBpZiAoIW1vZHVsZS5oYXNPd25Qcm9wZXJ0eSgnbXV0YXRpb25zJykpIHtcclxuICAgICAgICBtb2R1bGUubXV0YXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlLm11dGF0aW9ucyk7XHJcbiAgICB9XHJcbiAgICB2YXIgbXV0YXRpb25GdW5jdGlvbiA9IGRlc2NyaXB0b3IudmFsdWU7XHJcbiAgICB2YXIgbXV0YXRpb24gPSBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHtcclxuICAgICAgICBtdXRhdGlvbkZ1bmN0aW9uLmNhbGwoc3RhdGUsIHBheWxvYWQpO1xyXG4gICAgfTtcclxuICAgIG1vZHVsZS5tdXRhdGlvbnNba2V5XSA9IG11dGF0aW9uO1xyXG59XG5cbmZ1bmN0aW9uIG11dGF0aW9uQWN0aW9uRGVjb3JhdG9yRmFjdG9yeShwYXJhbXMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICB2YXIgbW9kdWxlID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIGlmICghbW9kdWxlLmhhc093blByb3BlcnR5KCdtdXRhdGlvbnMnKSkge1xyXG4gICAgICAgICAgICBtb2R1bGUubXV0YXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgbW9kdWxlLm11dGF0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbW9kdWxlLmhhc093blByb3BlcnR5KCdhY3Rpb25zJykpIHtcclxuICAgICAgICAgICAgbW9kdWxlLmFjdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBtb2R1bGUuYWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtdXRhY3RGdW5jdGlvbiA9IGRlc2NyaXB0b3IudmFsdWU7XHJcbiAgICAgICAgdmFyIGFjdGlvbiA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25QYXlsb2FkLCBlXzE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDIsICwgM10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbXV0YWN0RnVuY3Rpb24uY2FsbChjb250ZXh0LCBwYXlsb2FkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvblBheWxvYWQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdChrZXksIGFjdGlvblBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMucmF3RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgcGVyZm9ybSBhY3Rpb24gJyArIGtleS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KGVfMSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbXV0YXRpb24gPSBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHtcclxuICAgICAgICAgICAgaWYgKCFwYXJhbXMubXV0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMubXV0YXRlID0gT2JqZWN0LmtleXMocGF5bG9hZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHBhcmFtcy5tdXRhdGU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVJdGVtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmhhc093blByb3BlcnR5KHN0YXRlSXRlbSkgJiYgcGF5bG9hZC5oYXNPd25Qcm9wZXJ0eShzdGF0ZUl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVbc3RhdGVJdGVtXSA9IHBheWxvYWRbc3RhdGVJdGVtXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVSUl9NVVRBVEVfUEFSQU1TX05PVF9JTl9QQVlMT0FEXFxuICAgICAgICAgIEluIEBNdXRhdGlvbkFjdGlvbiwgbXV0YXRlOiBbJ2EnLCAnYicsIC4uLl0gYXJyYXkga2V5cyBtdXN0XFxuICAgICAgICAgIG1hdGNoIHdpdGggcmV0dXJuIHR5cGUgPSB7YToge30sIGI6IHt9LCAuLi59IGFuZCBtdXN0XFxuICAgICAgICAgIGFsc28gYmUgaW4gc3RhdGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBtb2R1bGUuYWN0aW9uc1trZXldID0gcGFyYW1zLnJvb3QgPyB7IHJvb3Q6IHRydWUsIGhhbmRsZXI6IGFjdGlvbiB9IDogYWN0aW9uO1xyXG4gICAgICAgIG1vZHVsZS5tdXRhdGlvbnNba2V5XSA9IG11dGF0aW9uO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogVGhlIEBNdXRhdGlvbkFjdGlvbiBkZWNvcmF0b3IgdHVybnMgdGhpcyBpbnRvIGFuIGFjdGlvbiB0aGF0IGZ1cnRoZXIgY2FsbHMgYSBtdXRhdGlvblxyXG4gKiBCb3RoIHRoZSBhY3Rpb24gYW5kIHRoZSBtdXRhdGlvbiBhcmUgZ2VuZXJhdGVkIGZvciB5b3VcclxuICpcclxuICogQHBhcmFtIHBhcmFtc09yVGFyZ2V0IHRoZSBwYXJhbXMgb3IgdGhlIHRhcmdldCBjbGFzc1xyXG4gKiBAcGFyYW0ga2V5IHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvblxyXG4gKiBAcGFyYW0gZGVzY3JpcHRvciB0aGUgZnVuY3Rpb24gYm9keVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIE11dGF0aW9uQWN0aW9uKHBhcmFtc09yVGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgIGlmICgha2V5ICYmICFkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gYHBhcmFtc09yVGFyZ2V0YCBpcyBwYXJhbXMuXHJcbiAgICAgICAgICogaS5lLiB3aGVuIHVzZWQgYXMgLVxyXG4gICAgICAgICAqIDxwcmU+XHJcbiAgICAgICAgICAgIEBNdXRhdGlvbkFjdGlvbih7bXV0YXRlOiBbJ2luY3JDb3VudCddfSlcclxuICAgICAgICAgICAgYXN5bmMgZ2V0Q291bnREZWx0YSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4ge2luY3JDb3VudDogNX1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAqIDwvcHJlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBtdXRhdGlvbkFjdGlvbkRlY29yYXRvckZhY3RvcnkocGFyYW1zT3JUYXJnZXQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gYHBhcmFtc09yVGFyZ2V0YCBpcyB0YXJnZXQuXHJcbiAgICAgICAgICogaS5lLiB3aGVuIHVzZWQgYXMgLVxyXG4gICAgICAgICAqIDxwcmU+XHJcbiAgICAgICAgICAgIEBNdXRhdGlvbkFjdGlvblxyXG4gICAgICAgICAgICBhc3luYyBnZXRDb3VudERlbHRhKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB7aW5jckNvdW50OiA1fVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICogPC9wcmU+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbXV0YXRpb25BY3Rpb25EZWNvcmF0b3JGYWN0b3J5KHt9KShwYXJhbXNPclRhcmdldCwga2V5LCBkZXNjcmlwdG9yKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBBY3Rpb24sIE1vZHVsZSwgTXV0YXRpb24sIE11dGF0aW9uQWN0aW9uLCBWdWV4TW9kdWxlLCBnZXRNb2R1bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiLyoqXG4gKiB2dWV4IHYzLjEuM1xuICogKGMpIDIwMjAgRXZhbiBZb3VcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5mdW5jdGlvbiBhcHBseU1peGluIChWdWUpIHtcbiAgdmFyIHZlcnNpb24gPSBOdW1iZXIoVnVlLnZlcnNpb24uc3BsaXQoJy4nKVswXSk7XG5cbiAgaWYgKHZlcnNpb24gPj0gMikge1xuICAgIFZ1ZS5taXhpbih7IGJlZm9yZUNyZWF0ZTogdnVleEluaXQgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gb3ZlcnJpZGUgaW5pdCBhbmQgaW5qZWN0IHZ1ZXggaW5pdCBwcm9jZWR1cmVcbiAgICAvLyBmb3IgMS54IGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgIHZhciBfaW5pdCA9IFZ1ZS5wcm90b3R5cGUuX2luaXQ7XG4gICAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICAgICAgb3B0aW9ucy5pbml0ID0gb3B0aW9ucy5pbml0XG4gICAgICAgID8gW3Z1ZXhJbml0XS5jb25jYXQob3B0aW9ucy5pbml0KVxuICAgICAgICA6IHZ1ZXhJbml0O1xuICAgICAgX2luaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFZ1ZXggaW5pdCBob29rLCBpbmplY3RlZCBpbnRvIGVhY2ggaW5zdGFuY2VzIGluaXQgaG9va3MgbGlzdC5cbiAgICovXG5cbiAgZnVuY3Rpb24gdnVleEluaXQgKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcbiAgICAvLyBzdG9yZSBpbmplY3Rpb25cbiAgICBpZiAob3B0aW9ucy5zdG9yZSkge1xuICAgICAgdGhpcy4kc3RvcmUgPSB0eXBlb2Ygb3B0aW9ucy5zdG9yZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IG9wdGlvbnMuc3RvcmUoKVxuICAgICAgICA6IG9wdGlvbnMuc3RvcmU7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnBhcmVudCAmJiBvcHRpb25zLnBhcmVudC4kc3RvcmUpIHtcbiAgICAgIHRoaXMuJHN0b3JlID0gb3B0aW9ucy5wYXJlbnQuJHN0b3JlO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdGFyZ2V0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgPyB3aW5kb3dcbiAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2xvYmFsXG4gICAgOiB7fTtcbnZhciBkZXZ0b29sSG9vayA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuXG5mdW5jdGlvbiBkZXZ0b29sUGx1Z2luIChzdG9yZSkge1xuICBpZiAoIWRldnRvb2xIb29rKSB7IHJldHVybiB9XG5cbiAgc3RvcmUuX2RldnRvb2xIb29rID0gZGV2dG9vbEhvb2s7XG5cbiAgZGV2dG9vbEhvb2suZW1pdCgndnVleDppbml0Jywgc3RvcmUpO1xuXG4gIGRldnRvb2xIb29rLm9uKCd2dWV4OnRyYXZlbC10by1zdGF0ZScsIGZ1bmN0aW9uICh0YXJnZXRTdGF0ZSkge1xuICAgIHN0b3JlLnJlcGxhY2VTdGF0ZSh0YXJnZXRTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAobXV0YXRpb24sIHN0YXRlKSB7XG4gICAgZGV2dG9vbEhvb2suZW1pdCgndnVleDptdXRhdGlvbicsIG11dGF0aW9uLCBzdGF0ZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgZmlyc3QgaXRlbSB0aGF0IHBhc3MgdGhlIHRlc3RcbiAqIGJ5IHNlY29uZCBhcmd1bWVudCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGxpc3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZcbiAqIEByZXR1cm4geyp9XG4gKi9cblxuLyoqXG4gKiBmb3JFYWNoIGZvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZm9yRWFjaFZhbHVlIChvYmosIGZuKSB7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmbihvYmpba2V5XSwga2V5KTsgfSk7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1Byb21pc2UgKHZhbCkge1xuICByZXR1cm4gdmFsICYmIHR5cGVvZiB2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJ1xufVxuXG5mdW5jdGlvbiBhc3NlcnQgKGNvbmRpdGlvbiwgbXNnKSB7XG4gIGlmICghY29uZGl0aW9uKSB7IHRocm93IG5ldyBFcnJvcigoXCJbdnVleF0gXCIgKyBtc2cpKSB9XG59XG5cbmZ1bmN0aW9uIHBhcnRpYWwgKGZuLCBhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm4oYXJnKVxuICB9XG59XG5cbi8vIEJhc2UgZGF0YSBzdHJ1Y3QgZm9yIHN0b3JlJ3MgbW9kdWxlLCBwYWNrYWdlIHdpdGggc29tZSBhdHRyaWJ1dGUgYW5kIG1ldGhvZFxudmFyIE1vZHVsZSA9IGZ1bmN0aW9uIE1vZHVsZSAocmF3TW9kdWxlLCBydW50aW1lKSB7XG4gIHRoaXMucnVudGltZSA9IHJ1bnRpbWU7XG4gIC8vIFN0b3JlIHNvbWUgY2hpbGRyZW4gaXRlbVxuICB0aGlzLl9jaGlsZHJlbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIFN0b3JlIHRoZSBvcmlnaW4gbW9kdWxlIG9iamVjdCB3aGljaCBwYXNzZWQgYnkgcHJvZ3JhbW1lclxuICB0aGlzLl9yYXdNb2R1bGUgPSByYXdNb2R1bGU7XG4gIHZhciByYXdTdGF0ZSA9IHJhd01vZHVsZS5zdGF0ZTtcblxuICAvLyBTdG9yZSB0aGUgb3JpZ2luIG1vZHVsZSdzIHN0YXRlXG4gIHRoaXMuc3RhdGUgPSAodHlwZW9mIHJhd1N0YXRlID09PSAnZnVuY3Rpb24nID8gcmF3U3RhdGUoKSA6IHJhd1N0YXRlKSB8fCB7fTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG5hbWVzcGFjZWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxucHJvdG90eXBlQWNjZXNzb3JzLm5hbWVzcGFjZWQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISF0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZFxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChrZXksIG1vZHVsZSkge1xuICB0aGlzLl9jaGlsZHJlbltrZXldID0gbW9kdWxlO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuX2NoaWxkcmVuW2tleV07XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmdldENoaWxkID0gZnVuY3Rpb24gZ2V0Q2hpbGQgKGtleSkge1xuICByZXR1cm4gdGhpcy5fY2hpbGRyZW5ba2V5XVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKHJhd01vZHVsZSkge1xuICB0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZCA9IHJhd01vZHVsZS5uYW1lc3BhY2VkO1xuICBpZiAocmF3TW9kdWxlLmFjdGlvbnMpIHtcbiAgICB0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucyA9IHJhd01vZHVsZS5hY3Rpb25zO1xuICB9XG4gIGlmIChyYXdNb2R1bGUubXV0YXRpb25zKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucyA9IHJhd01vZHVsZS5tdXRhdGlvbnM7XG4gIH1cbiAgaWYgKHJhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLmdldHRlcnMgPSByYXdNb2R1bGUuZ2V0dGVycztcbiAgfVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoQ2hpbGQgPSBmdW5jdGlvbiBmb3JFYWNoQ2hpbGQgKGZuKSB7XG4gIGZvckVhY2hWYWx1ZSh0aGlzLl9jaGlsZHJlbiwgZm4pO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoR2V0dGVyID0gZnVuY3Rpb24gZm9yRWFjaEdldHRlciAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzLCBmbik7XG4gIH1cbn07XG5cbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaEFjdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hBY3Rpb24gKGZuKSB7XG4gIGlmICh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucykge1xuICAgIGZvckVhY2hWYWx1ZSh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucywgZm4pO1xuICB9XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hNdXRhdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hNdXRhdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5tdXRhdGlvbnMpIHtcbiAgICBmb3JFYWNoVmFsdWUodGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucywgZm4pO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggTW9kdWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbnZhciBNb2R1bGVDb2xsZWN0aW9uID0gZnVuY3Rpb24gTW9kdWxlQ29sbGVjdGlvbiAocmF3Um9vdE1vZHVsZSkge1xuICAvLyByZWdpc3RlciByb290IG1vZHVsZSAoVnVleC5TdG9yZSBvcHRpb25zKVxuICB0aGlzLnJlZ2lzdGVyKFtdLCByYXdSb290TW9kdWxlLCBmYWxzZSk7XG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKGZ1bmN0aW9uIChtb2R1bGUsIGtleSkge1xuICAgIHJldHVybiBtb2R1bGUuZ2V0Q2hpbGQoa2V5KVxuICB9LCB0aGlzLnJvb3QpXG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXROYW1lc3BhY2UgPSBmdW5jdGlvbiBnZXROYW1lc3BhY2UgKHBhdGgpIHtcbiAgdmFyIG1vZHVsZSA9IHRoaXMucm9vdDtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIGtleSkge1xuICAgIG1vZHVsZSA9IG1vZHVsZS5nZXRDaGlsZChrZXkpO1xuICAgIHJldHVybiBuYW1lc3BhY2UgKyAobW9kdWxlLm5hbWVzcGFjZWQgPyBrZXkgKyAnLycgOiAnJylcbiAgfSwgJycpXG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUkMSAocmF3Um9vdE1vZHVsZSkge1xuICB1cGRhdGUoW10sIHRoaXMucm9vdCwgcmF3Um9vdE1vZHVsZSk7XG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyIChwYXRoLCByYXdNb2R1bGUsIHJ1bnRpbWUpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICBpZiAoIHJ1bnRpbWUgPT09IHZvaWQgMCApIHJ1bnRpbWUgPSB0cnVlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0UmF3TW9kdWxlKHBhdGgsIHJhd01vZHVsZSk7XG4gIH1cblxuICB2YXIgbmV3TW9kdWxlID0gbmV3IE1vZHVsZShyYXdNb2R1bGUsIHJ1bnRpbWUpO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLnJvb3QgPSBuZXdNb2R1bGU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgICBwYXJlbnQuYWRkQ2hpbGQocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBuZXdNb2R1bGUpO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXIgbmVzdGVkIG1vZHVsZXNcbiAgaWYgKHJhd01vZHVsZS5tb2R1bGVzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHJhd01vZHVsZS5tb2R1bGVzLCBmdW5jdGlvbiAocmF3Q2hpbGRNb2R1bGUsIGtleSkge1xuICAgICAgdGhpcyQxLnJlZ2lzdGVyKHBhdGguY29uY2F0KGtleSksIHJhd0NoaWxkTW9kdWxlLCBydW50aW1lKTtcbiAgICB9KTtcbiAgfVxufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIHVucmVnaXN0ZXIgKHBhdGgpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgdmFyIGtleSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgaWYgKCFwYXJlbnQuZ2V0Q2hpbGQoa2V5KS5ydW50aW1lKSB7IHJldHVybiB9XG5cbiAgcGFyZW50LnJlbW92ZUNoaWxkKGtleSk7XG59O1xuXG5mdW5jdGlvbiB1cGRhdGUgKHBhdGgsIHRhcmdldE1vZHVsZSwgbmV3TW9kdWxlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0UmF3TW9kdWxlKHBhdGgsIG5ld01vZHVsZSk7XG4gIH1cblxuICAvLyB1cGRhdGUgdGFyZ2V0IG1vZHVsZVxuICB0YXJnZXRNb2R1bGUudXBkYXRlKG5ld01vZHVsZSk7XG5cbiAgLy8gdXBkYXRlIG5lc3RlZCBtb2R1bGVzXG4gIGlmIChuZXdNb2R1bGUubW9kdWxlcykge1xuICAgIGZvciAodmFyIGtleSBpbiBuZXdNb2R1bGUubW9kdWxlcykge1xuICAgICAgaWYgKCF0YXJnZXRNb2R1bGUuZ2V0Q2hpbGQoa2V5KSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiW3Z1ZXhdIHRyeWluZyB0byBhZGQgYSBuZXcgbW9kdWxlICdcIiArIGtleSArIFwiJyBvbiBob3QgcmVsb2FkaW5nLCBcIiArXG4gICAgICAgICAgICAnbWFudWFsIHJlbG9hZCBpcyBuZWVkZWQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHVwZGF0ZShcbiAgICAgICAgcGF0aC5jb25jYXQoa2V5KSxcbiAgICAgICAgdGFyZ2V0TW9kdWxlLmdldENoaWxkKGtleSksXG4gICAgICAgIG5ld01vZHVsZS5tb2R1bGVzW2tleV1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbnZhciBmdW5jdGlvbkFzc2VydCA9IHtcbiAgYXNzZXJ0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzsgfSxcbiAgZXhwZWN0ZWQ6ICdmdW5jdGlvbidcbn07XG5cbnZhciBvYmplY3RBc3NlcnQgPSB7XG4gIGFzc2VydDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHxcbiAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUuaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJyk7IH0sXG4gIGV4cGVjdGVkOiAnZnVuY3Rpb24gb3Igb2JqZWN0IHdpdGggXCJoYW5kbGVyXCIgZnVuY3Rpb24nXG59O1xuXG52YXIgYXNzZXJ0VHlwZXMgPSB7XG4gIGdldHRlcnM6IGZ1bmN0aW9uQXNzZXJ0LFxuICBtdXRhdGlvbnM6IGZ1bmN0aW9uQXNzZXJ0LFxuICBhY3Rpb25zOiBvYmplY3RBc3NlcnRcbn07XG5cbmZ1bmN0aW9uIGFzc2VydFJhd01vZHVsZSAocGF0aCwgcmF3TW9kdWxlKSB7XG4gIE9iamVjdC5rZXlzKGFzc2VydFR5cGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIXJhd01vZHVsZVtrZXldKSB7IHJldHVybiB9XG5cbiAgICB2YXIgYXNzZXJ0T3B0aW9ucyA9IGFzc2VydFR5cGVzW2tleV07XG5cbiAgICBmb3JFYWNoVmFsdWUocmF3TW9kdWxlW2tleV0sIGZ1bmN0aW9uICh2YWx1ZSwgdHlwZSkge1xuICAgICAgYXNzZXJ0KFxuICAgICAgICBhc3NlcnRPcHRpb25zLmFzc2VydCh2YWx1ZSksXG4gICAgICAgIG1ha2VBc3NlcnRpb25NZXNzYWdlKHBhdGgsIGtleSwgdHlwZSwgdmFsdWUsIGFzc2VydE9wdGlvbnMuZXhwZWN0ZWQpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzc2VydGlvbk1lc3NhZ2UgKHBhdGgsIGtleSwgdHlwZSwgdmFsdWUsIGV4cGVjdGVkKSB7XG4gIHZhciBidWYgPSBrZXkgKyBcIiBzaG91bGQgYmUgXCIgKyBleHBlY3RlZCArIFwiIGJ1dCBcXFwiXCIgKyBrZXkgKyBcIi5cIiArIHR5cGUgKyBcIlxcXCJcIjtcbiAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgIGJ1ZiArPSBcIiBpbiBtb2R1bGUgXFxcIlwiICsgKHBhdGguam9pbignLicpKSArIFwiXFxcIlwiO1xuICB9XG4gIGJ1ZiArPSBcIiBpcyBcIiArIChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpICsgXCIuXCI7XG4gIHJldHVybiBidWZcbn1cblxudmFyIFZ1ZTsgLy8gYmluZCBvbiBpbnN0YWxsXG5cbnZhciBTdG9yZSA9IGZ1bmN0aW9uIFN0b3JlIChvcHRpb25zKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICAvLyBBdXRvIGluc3RhbGwgaWYgaXQgaXMgbm90IGRvbmUgeWV0IGFuZCBgd2luZG93YCBoYXMgYFZ1ZWAuXG4gIC8vIFRvIGFsbG93IHVzZXJzIHRvIGF2b2lkIGF1dG8taW5zdGFsbGF0aW9uIGluIHNvbWUgY2FzZXMsXG4gIC8vIHRoaXMgY29kZSBzaG91bGQgYmUgcGxhY2VkIGhlcmUuIFNlZSAjNzMxXG4gIGlmICghVnVlICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WdWUpIHtcbiAgICBpbnN0YWxsKHdpbmRvdy5WdWUpO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBhc3NlcnQoVnVlLCBcIm11c3QgY2FsbCBWdWUudXNlKFZ1ZXgpIGJlZm9yZSBjcmVhdGluZyBhIHN0b3JlIGluc3RhbmNlLlwiKTtcbiAgICBhc3NlcnQodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnLCBcInZ1ZXggcmVxdWlyZXMgYSBQcm9taXNlIHBvbHlmaWxsIGluIHRoaXMgYnJvd3Nlci5cIik7XG4gICAgYXNzZXJ0KHRoaXMgaW5zdGFuY2VvZiBTdG9yZSwgXCJzdG9yZSBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3IuXCIpO1xuICB9XG5cbiAgdmFyIHBsdWdpbnMgPSBvcHRpb25zLnBsdWdpbnM7IGlmICggcGx1Z2lucyA9PT0gdm9pZCAwICkgcGx1Z2lucyA9IFtdO1xuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3Q7IGlmICggc3RyaWN0ID09PSB2b2lkIDAgKSBzdHJpY3QgPSBmYWxzZTtcblxuICAvLyBzdG9yZSBpbnRlcm5hbCBzdGF0ZVxuICB0aGlzLl9jb21taXR0aW5nID0gZmFsc2U7XG4gIHRoaXMuX2FjdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl9hY3Rpb25TdWJzY3JpYmVycyA9IFtdO1xuICB0aGlzLl9tdXRhdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLl93cmFwcGVkR2V0dGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX21vZHVsZXMgPSBuZXcgTW9kdWxlQ29sbGVjdGlvbihvcHRpb25zKTtcbiAgdGhpcy5fbW9kdWxlc05hbWVzcGFjZU1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG4gIHRoaXMuX3dhdGNoZXJWTSA9IG5ldyBWdWUoKTtcbiAgdGhpcy5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvLyBiaW5kIGNvbW1pdCBhbmQgZGlzcGF0Y2ggdG8gc2VsZlxuICB2YXIgc3RvcmUgPSB0aGlzO1xuICB2YXIgcmVmID0gdGhpcztcbiAgdmFyIGRpc3BhdGNoID0gcmVmLmRpc3BhdGNoO1xuICB2YXIgY29tbWl0ID0gcmVmLmNvbW1pdDtcbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIGJvdW5kRGlzcGF0Y2ggKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2guY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZClcbiAgfTtcbiAgdGhpcy5jb21taXQgPSBmdW5jdGlvbiBib3VuZENvbW1pdCAodHlwZSwgcGF5bG9hZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBjb21taXQuY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZCwgb3B0aW9ucylcbiAgfTtcblxuICAvLyBzdHJpY3QgbW9kZVxuICB0aGlzLnN0cmljdCA9IHN0cmljdDtcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9tb2R1bGVzLnJvb3Quc3RhdGU7XG5cbiAgLy8gaW5pdCByb290IG1vZHVsZS5cbiAgLy8gdGhpcyBhbHNvIHJlY3Vyc2l2ZWx5IHJlZ2lzdGVycyBhbGwgc3ViLW1vZHVsZXNcbiAgLy8gYW5kIGNvbGxlY3RzIGFsbCBtb2R1bGUgZ2V0dGVycyBpbnNpZGUgdGhpcy5fd3JhcHBlZEdldHRlcnNcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCBzdGF0ZSwgW10sIHRoaXMuX21vZHVsZXMucm9vdCk7XG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgc3RvcmUgdm0sIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcmVhY3Rpdml0eVxuICAvLyAoYWxzbyByZWdpc3RlcnMgX3dyYXBwZWRHZXR0ZXJzIGFzIGNvbXB1dGVkIHByb3BlcnRpZXMpXG4gIHJlc2V0U3RvcmVWTSh0aGlzLCBzdGF0ZSk7XG5cbiAgLy8gYXBwbHkgcGx1Z2luc1xuICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luKHRoaXMkMSk7IH0pO1xuXG4gIHZhciB1c2VEZXZ0b29scyA9IG9wdGlvbnMuZGV2dG9vbHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGV2dG9vbHMgOiBWdWUuY29uZmlnLmRldnRvb2xzO1xuICBpZiAodXNlRGV2dG9vbHMpIHtcbiAgICBkZXZ0b29sUGx1Z2luKHRoaXMpO1xuICB9XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IHN0YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnN0YXRlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3ZtLl9kYXRhLiQkc3RhdGVcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnN0YXRlLnNldCA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0KGZhbHNlLCBcInVzZSBzdG9yZS5yZXBsYWNlU3RhdGUoKSB0byBleHBsaWNpdCByZXBsYWNlIHN0b3JlIHN0YXRlLlwiKTtcbiAgfVxufTtcblxuU3RvcmUucHJvdG90eXBlLmNvbW1pdCA9IGZ1bmN0aW9uIGNvbW1pdCAoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIC8vIGNoZWNrIG9iamVjdC1zdHlsZSBjb21taXRcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgdmFyIHR5cGUgPSByZWYudHlwZTtcbiAgICB2YXIgcGF5bG9hZCA9IHJlZi5wYXlsb2FkO1xuICAgIHZhciBvcHRpb25zID0gcmVmLm9wdGlvbnM7XG5cbiAgdmFyIG11dGF0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XG4gIHZhciBlbnRyeSA9IHRoaXMuX211dGF0aW9uc1t0eXBlXTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIG11dGF0aW9uIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuICB0aGlzLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICBlbnRyeS5mb3JFYWNoKGZ1bmN0aW9uIGNvbW1pdEl0ZXJhdG9yIChoYW5kbGVyKSB7XG4gICAgICBoYW5kbGVyKHBheWxvYWQpO1xuICAgIH0pO1xuICB9KTtcblxuICB0aGlzLl9zdWJzY3JpYmVyc1xuICAgIC5zbGljZSgpIC8vIHNoYWxsb3cgY29weSB0byBwcmV2ZW50IGl0ZXJhdG9yIGludmFsaWRhdGlvbiBpZiBzdWJzY3JpYmVyIHN5bmNocm9ub3VzbHkgY2FsbHMgdW5zdWJzY3JpYmVcbiAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIobXV0YXRpb24sIHRoaXMkMS5zdGF0ZSk7IH0pO1xuXG4gIGlmIChcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnNpbGVudFxuICApIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIlt2dWV4XSBtdXRhdGlvbiB0eXBlOiBcIiArIHR5cGUgKyBcIi4gU2lsZW50IG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBcIiArXG4gICAgICAnVXNlIHRoZSBmaWx0ZXIgZnVuY3Rpb25hbGl0eSBpbiB0aGUgdnVlLWRldnRvb2xzJ1xuICAgICk7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoIChfdHlwZSwgX3BheWxvYWQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAvLyBjaGVjayBvYmplY3Qtc3R5bGUgZGlzcGF0Y2hcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkKTtcbiAgICB2YXIgdHlwZSA9IHJlZi50eXBlO1xuICAgIHZhciBwYXlsb2FkID0gcmVmLnBheWxvYWQ7XG5cbiAgdmFyIGFjdGlvbiA9IHsgdHlwZTogdHlwZSwgcGF5bG9hZDogcGF5bG9hZCB9O1xuICB2YXIgZW50cnkgPSB0aGlzLl9hY3Rpb25zW3R5cGVdO1xuICBpZiAoIWVudHJ5KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gYWN0aW9uIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIHRyeSB7XG4gICAgdGhpcy5fYWN0aW9uU3Vic2NyaWJlcnNcbiAgICAgIC5zbGljZSgpIC8vIHNoYWxsb3cgY29weSB0byBwcmV2ZW50IGl0ZXJhdG9yIGludmFsaWRhdGlvbiBpZiBzdWJzY3JpYmVyIHN5bmNocm9ub3VzbHkgY2FsbHMgdW5zdWJzY3JpYmVcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmJlZm9yZTsgfSlcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmUoYWN0aW9uLCB0aGlzJDEuc3RhdGUpOyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbdnVleF0gZXJyb3IgaW4gYmVmb3JlIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gZW50cnkubGVuZ3RoID4gMVxuICAgID8gUHJvbWlzZS5hbGwoZW50cnkubWFwKGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiBoYW5kbGVyKHBheWxvYWQpOyB9KSlcbiAgICA6IGVudHJ5WzBdKHBheWxvYWQpO1xuXG4gIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMkMS5fYWN0aW9uU3Vic2NyaWJlcnNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYWZ0ZXI7IH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5hZnRlcihhY3Rpb24sIHRoaXMkMS5zdGF0ZSk7IH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlt2dWV4XSBlcnJvciBpbiBhZnRlciBhY3Rpb24gc3Vic2NyaWJlcnM6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc1xuICB9KVxufTtcblxuU3RvcmUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSAoZm4pIHtcbiAgcmV0dXJuIGdlbmVyaWNTdWJzY3JpYmUoZm4sIHRoaXMuX3N1YnNjcmliZXJzKVxufTtcblxuU3RvcmUucHJvdG90eXBlLnN1YnNjcmliZUFjdGlvbiA9IGZ1bmN0aW9uIHN1YnNjcmliZUFjdGlvbiAoZm4pIHtcbiAgdmFyIHN1YnMgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgPyB7IGJlZm9yZTogZm4gfSA6IGZuO1xuICByZXR1cm4gZ2VuZXJpY1N1YnNjcmliZShzdWJzLCB0aGlzLl9hY3Rpb25TdWJzY3JpYmVycylcbn07XG5cblN0b3JlLnByb3RvdHlwZS53YXRjaCA9IGZ1bmN0aW9uIHdhdGNoIChnZXR0ZXIsIGNiLCBvcHRpb25zKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBhc3NlcnQodHlwZW9mIGdldHRlciA9PT0gJ2Z1bmN0aW9uJywgXCJzdG9yZS53YXRjaCBvbmx5IGFjY2VwdHMgYSBmdW5jdGlvbi5cIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX3dhdGNoZXJWTS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyKHRoaXMkMS5zdGF0ZSwgdGhpcyQxLmdldHRlcnMpOyB9LCBjYiwgb3B0aW9ucylcbn07XG5cblN0b3JlLnByb3RvdHlwZS5yZXBsYWNlU3RhdGUgPSBmdW5jdGlvbiByZXBsYWNlU3RhdGUgKHN0YXRlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdGhpcy5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgdGhpcyQxLl92bS5fZGF0YS4kJHN0YXRlID0gc3RhdGU7XG4gIH0pO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnJlZ2lzdGVyTW9kdWxlID0gZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGUgKHBhdGgsIHJhd01vZHVsZSwgb3B0aW9ucykge1xuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gICAgYXNzZXJ0KHBhdGgubGVuZ3RoID4gMCwgJ2Nhbm5vdCByZWdpc3RlciB0aGUgcm9vdCBtb2R1bGUgYnkgdXNpbmcgcmVnaXN0ZXJNb2R1bGUuJyk7XG4gIH1cblxuICB0aGlzLl9tb2R1bGVzLnJlZ2lzdGVyKHBhdGgsIHJhd01vZHVsZSk7XG4gIGluc3RhbGxNb2R1bGUodGhpcywgdGhpcy5zdGF0ZSwgcGF0aCwgdGhpcy5fbW9kdWxlcy5nZXQocGF0aCksIG9wdGlvbnMucHJlc2VydmVTdGF0ZSk7XG4gIC8vIHJlc2V0IHN0b3JlIHRvIHVwZGF0ZSBnZXR0ZXJzLi4uXG4gIHJlc2V0U3RvcmVWTSh0aGlzLCB0aGlzLnN0YXRlKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS51bnJlZ2lzdGVyTW9kdWxlID0gZnVuY3Rpb24gdW5yZWdpc3Rlck1vZHVsZSAocGF0aCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gIH1cblxuICB0aGlzLl9tb2R1bGVzLnVucmVnaXN0ZXIocGF0aCk7XG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHRoaXMkMS5zdGF0ZSwgcGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIFZ1ZS5kZWxldGUocGFyZW50U3RhdGUsIHBhdGhbcGF0aC5sZW5ndGggLSAxXSk7XG4gIH0pO1xuICByZXNldFN0b3JlKHRoaXMpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLmhvdFVwZGF0ZSA9IGZ1bmN0aW9uIGhvdFVwZGF0ZSAobmV3T3B0aW9ucykge1xuICB0aGlzLl9tb2R1bGVzLnVwZGF0ZShuZXdPcHRpb25zKTtcbiAgcmVzZXRTdG9yZSh0aGlzLCB0cnVlKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5fd2l0aENvbW1pdCA9IGZ1bmN0aW9uIF93aXRoQ29tbWl0IChmbikge1xuICB2YXIgY29tbWl0dGluZyA9IHRoaXMuX2NvbW1pdHRpbmc7XG4gIHRoaXMuX2NvbW1pdHRpbmcgPSB0cnVlO1xuICBmbigpO1xuICB0aGlzLl9jb21taXR0aW5nID0gY29tbWl0dGluZztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTdG9yZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxICk7XG5cbmZ1bmN0aW9uIGdlbmVyaWNTdWJzY3JpYmUgKGZuLCBzdWJzKSB7XG4gIGlmIChzdWJzLmluZGV4T2YoZm4pIDwgMCkge1xuICAgIHN1YnMucHVzaChmbik7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaSA9IHN1YnMuaW5kZXhPZihmbik7XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgc3Vicy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3RvcmUgKHN0b3JlLCBob3QpIHtcbiAgc3RvcmUuX2FjdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzdG9yZS5fbXV0YXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RvcmUuX3dyYXBwZWRHZXR0ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RvcmUuX21vZHVsZXNOYW1lc3BhY2VNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB2YXIgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcbiAgLy8gaW5pdCBhbGwgbW9kdWxlc1xuICBpbnN0YWxsTW9kdWxlKHN0b3JlLCBzdGF0ZSwgW10sIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHRydWUpO1xuICAvLyByZXNldCB2bVxuICByZXNldFN0b3JlVk0oc3RvcmUsIHN0YXRlLCBob3QpO1xufVxuXG5mdW5jdGlvbiByZXNldFN0b3JlVk0gKHN0b3JlLCBzdGF0ZSwgaG90KSB7XG4gIHZhciBvbGRWbSA9IHN0b3JlLl92bTtcblxuICAvLyBiaW5kIHN0b3JlIHB1YmxpYyBnZXR0ZXJzXG4gIHN0b3JlLmdldHRlcnMgPSB7fTtcbiAgLy8gcmVzZXQgbG9jYWwgZ2V0dGVycyBjYWNoZVxuICBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHdyYXBwZWRHZXR0ZXJzID0gc3RvcmUuX3dyYXBwZWRHZXR0ZXJzO1xuICB2YXIgY29tcHV0ZWQgPSB7fTtcbiAgZm9yRWFjaFZhbHVlKHdyYXBwZWRHZXR0ZXJzLCBmdW5jdGlvbiAoZm4sIGtleSkge1xuICAgIC8vIHVzZSBjb21wdXRlZCB0byBsZXZlcmFnZSBpdHMgbGF6eS1jYWNoaW5nIG1lY2hhbmlzbVxuICAgIC8vIGRpcmVjdCBpbmxpbmUgZnVuY3Rpb24gdXNlIHdpbGwgbGVhZCB0byBjbG9zdXJlIHByZXNlcnZpbmcgb2xkVm0uXG4gICAgLy8gdXNpbmcgcGFydGlhbCB0byByZXR1cm4gZnVuY3Rpb24gd2l0aCBvbmx5IGFyZ3VtZW50cyBwcmVzZXJ2ZWQgaW4gY2xvc3VyZSBlbnZpcm9ubWVudC5cbiAgICBjb21wdXRlZFtrZXldID0gcGFydGlhbChmbiwgc3RvcmUpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZS5nZXR0ZXJzLCBrZXksIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuX3ZtW2tleV07IH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlIC8vIGZvciBsb2NhbCBnZXR0ZXJzXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHVzZSBhIFZ1ZSBpbnN0YW5jZSB0byBzdG9yZSB0aGUgc3RhdGUgdHJlZVxuICAvLyBzdXBwcmVzcyB3YXJuaW5ncyBqdXN0IGluIGNhc2UgdGhlIHVzZXIgaGFzIGFkZGVkXG4gIC8vIHNvbWUgZnVua3kgZ2xvYmFsIG1peGluc1xuICB2YXIgc2lsZW50ID0gVnVlLmNvbmZpZy5zaWxlbnQ7XG4gIFZ1ZS5jb25maWcuc2lsZW50ID0gdHJ1ZTtcbiAgc3RvcmUuX3ZtID0gbmV3IFZ1ZSh7XG4gICAgZGF0YToge1xuICAgICAgJCRzdGF0ZTogc3RhdGVcbiAgICB9LFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZFxuICB9KTtcbiAgVnVlLmNvbmZpZy5zaWxlbnQgPSBzaWxlbnQ7XG5cbiAgLy8gZW5hYmxlIHN0cmljdCBtb2RlIGZvciBuZXcgdm1cbiAgaWYgKHN0b3JlLnN0cmljdCkge1xuICAgIGVuYWJsZVN0cmljdE1vZGUoc3RvcmUpO1xuICB9XG5cbiAgaWYgKG9sZFZtKSB7XG4gICAgaWYgKGhvdCkge1xuICAgICAgLy8gZGlzcGF0Y2ggY2hhbmdlcyBpbiBhbGwgc3Vic2NyaWJlZCB3YXRjaGVyc1xuICAgICAgLy8gdG8gZm9yY2UgZ2V0dGVyIHJlLWV2YWx1YXRpb24gZm9yIGhvdCByZWxvYWRpbmcuXG4gICAgICBzdG9yZS5fd2l0aENvbW1pdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9sZFZtLl9kYXRhLiQkc3RhdGUgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFZ1ZS5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJldHVybiBvbGRWbS4kZGVzdHJveSgpOyB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsTW9kdWxlIChzdG9yZSwgcm9vdFN0YXRlLCBwYXRoLCBtb2R1bGUsIGhvdCkge1xuICB2YXIgaXNSb290ID0gIXBhdGgubGVuZ3RoO1xuICB2YXIgbmFtZXNwYWNlID0gc3RvcmUuX21vZHVsZXMuZ2V0TmFtZXNwYWNlKHBhdGgpO1xuXG4gIC8vIHJlZ2lzdGVyIGluIG5hbWVzcGFjZSBtYXBcbiAgaWYgKG1vZHVsZS5uYW1lc3BhY2VkKSB7XG4gICAgaWYgKHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gZHVwbGljYXRlIG5hbWVzcGFjZSBcIiArIG5hbWVzcGFjZSArIFwiIGZvciB0aGUgbmFtZXNwYWNlZCBtb2R1bGUgXCIgKyAocGF0aC5qb2luKCcvJykpKSk7XG4gICAgfVxuICAgIHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBtb2R1bGU7XG4gIH1cblxuICAvLyBzZXQgc3RhdGVcbiAgaWYgKCFpc1Jvb3QgJiYgIWhvdCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHJvb3RTdGF0ZSwgcGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIHZhciBtb2R1bGVOYW1lID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChtb2R1bGVOYW1lIGluIHBhcmVudFN0YXRlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgKFwiW3Z1ZXhdIHN0YXRlIGZpZWxkIFxcXCJcIiArIG1vZHVsZU5hbWUgKyBcIlxcXCIgd2FzIG92ZXJyaWRkZW4gYnkgYSBtb2R1bGUgd2l0aCB0aGUgc2FtZSBuYW1lIGF0IFxcXCJcIiArIChwYXRoLmpvaW4oJy4nKSkgKyBcIlxcXCJcIilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBWdWUuc2V0KHBhcmVudFN0YXRlLCBtb2R1bGVOYW1lLCBtb2R1bGUuc3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxvY2FsID0gbW9kdWxlLmNvbnRleHQgPSBtYWtlTG9jYWxDb250ZXh0KHN0b3JlLCBuYW1lc3BhY2UsIHBhdGgpO1xuXG4gIG1vZHVsZS5mb3JFYWNoTXV0YXRpb24oZnVuY3Rpb24gKG11dGF0aW9uLCBrZXkpIHtcbiAgICB2YXIgbmFtZXNwYWNlZFR5cGUgPSBuYW1lc3BhY2UgKyBrZXk7XG4gICAgcmVnaXN0ZXJNdXRhdGlvbihzdG9yZSwgbmFtZXNwYWNlZFR5cGUsIG11dGF0aW9uLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQWN0aW9uKGZ1bmN0aW9uIChhY3Rpb24sIGtleSkge1xuICAgIHZhciB0eXBlID0gYWN0aW9uLnJvb3QgPyBrZXkgOiBuYW1lc3BhY2UgKyBrZXk7XG4gICAgdmFyIGhhbmRsZXIgPSBhY3Rpb24uaGFuZGxlciB8fCBhY3Rpb247XG4gICAgcmVnaXN0ZXJBY3Rpb24oc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKTtcbiAgfSk7XG5cbiAgbW9kdWxlLmZvckVhY2hHZXR0ZXIoZnVuY3Rpb24gKGdldHRlciwga2V5KSB7XG4gICAgdmFyIG5hbWVzcGFjZWRUeXBlID0gbmFtZXNwYWNlICsga2V5O1xuICAgIHJlZ2lzdGVyR2V0dGVyKHN0b3JlLCBuYW1lc3BhY2VkVHlwZSwgZ2V0dGVyLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24gKGNoaWxkLCBrZXkpIHtcbiAgICBpbnN0YWxsTW9kdWxlKHN0b3JlLCByb290U3RhdGUsIHBhdGguY29uY2F0KGtleSksIGNoaWxkLCBob3QpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBtYWtlIGxvY2FsaXplZCBkaXNwYXRjaCwgY29tbWl0LCBnZXR0ZXJzIGFuZCBzdGF0ZVxuICogaWYgdGhlcmUgaXMgbm8gbmFtZXNwYWNlLCBqdXN0IHVzZSByb290IG9uZXNcbiAqL1xuZnVuY3Rpb24gbWFrZUxvY2FsQ29udGV4dCAoc3RvcmUsIG5hbWVzcGFjZSwgcGF0aCkge1xuICB2YXIgbm9OYW1lc3BhY2UgPSBuYW1lc3BhY2UgPT09ICcnO1xuXG4gIHZhciBsb2NhbCA9IHtcbiAgICBkaXNwYXRjaDogbm9OYW1lc3BhY2UgPyBzdG9yZS5kaXNwYXRjaCA6IGZ1bmN0aW9uIChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFyZ3MucGF5bG9hZDtcbiAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XG5cbiAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5yb290KSB7XG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhc3RvcmUuX2FjdGlvbnNbdHlwZV0pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGxvY2FsIGFjdGlvbiB0eXBlOiBcIiArIChhcmdzLnR5cGUpICsgXCIsIGdsb2JhbCB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2godHlwZSwgcGF5bG9hZClcbiAgICB9LFxuXG4gICAgY29tbWl0OiBub05hbWVzcGFjZSA/IHN0b3JlLmNvbW1pdCA6IGZ1bmN0aW9uIChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFyZ3MucGF5bG9hZDtcbiAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XG5cbiAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5yb290KSB7XG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhc3RvcmUuX211dGF0aW9uc1t0eXBlXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbG9jYWwgbXV0YXRpb24gdHlwZTogXCIgKyAoYXJncy50eXBlKSArIFwiLCBnbG9iYWwgdHlwZTogXCIgKyB0eXBlKSk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3RvcmUuY29tbWl0KHR5cGUsIHBheWxvYWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBnZXR0ZXJzIGFuZCBzdGF0ZSBvYmplY3QgbXVzdCBiZSBnb3R0ZW4gbGF6aWx5XG4gIC8vIGJlY2F1c2UgdGhleSB3aWxsIGJlIGNoYW5nZWQgYnkgdm0gdXBkYXRlXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGxvY2FsLCB7XG4gICAgZ2V0dGVyczoge1xuICAgICAgZ2V0OiBub05hbWVzcGFjZVxuICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3JlLmdldHRlcnM7IH1cbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYWtlTG9jYWxHZXR0ZXJzKHN0b3JlLCBuYW1lc3BhY2UpOyB9XG4gICAgfSxcbiAgICBzdGF0ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZXROZXN0ZWRTdGF0ZShzdG9yZS5zdGF0ZSwgcGF0aCk7IH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBsb2NhbFxufVxuXG5mdW5jdGlvbiBtYWtlTG9jYWxHZXR0ZXJzIChzdG9yZSwgbmFtZXNwYWNlKSB7XG4gIGlmICghc3RvcmUuX21ha2VMb2NhbEdldHRlcnNDYWNoZVtuYW1lc3BhY2VdKSB7XG4gICAgdmFyIGdldHRlcnNQcm94eSA9IHt9O1xuICAgIHZhciBzcGxpdFBvcyA9IG5hbWVzcGFjZS5sZW5ndGg7XG4gICAgT2JqZWN0LmtleXMoc3RvcmUuZ2V0dGVycykuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgLy8gc2tpcCBpZiB0aGUgdGFyZ2V0IGdldHRlciBpcyBub3QgbWF0Y2ggdGhpcyBuYW1lc3BhY2VcbiAgICAgIGlmICh0eXBlLnNsaWNlKDAsIHNwbGl0UG9zKSAhPT0gbmFtZXNwYWNlKSB7IHJldHVybiB9XG5cbiAgICAgIC8vIGV4dHJhY3QgbG9jYWwgZ2V0dGVyIHR5cGVcbiAgICAgIHZhciBsb2NhbFR5cGUgPSB0eXBlLnNsaWNlKHNwbGl0UG9zKTtcblxuICAgICAgLy8gQWRkIGEgcG9ydCB0byB0aGUgZ2V0dGVycyBwcm94eS5cbiAgICAgIC8vIERlZmluZSBhcyBnZXR0ZXIgcHJvcGVydHkgYmVjYXVzZVxuICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gZXZhbHVhdGUgdGhlIGdldHRlcnMgaW4gdGhpcyB0aW1lLlxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdldHRlcnNQcm94eSwgbG9jYWxUeXBlLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuZ2V0dGVyc1t0eXBlXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3RvcmUuX21ha2VMb2NhbEdldHRlcnNDYWNoZVtuYW1lc3BhY2VdID0gZ2V0dGVyc1Byb3h5O1xuICB9XG5cbiAgcmV0dXJuIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXVxufVxuXG5mdW5jdGlvbiByZWdpc3Rlck11dGF0aW9uIChzdG9yZSwgdHlwZSwgaGFuZGxlciwgbG9jYWwpIHtcbiAgdmFyIGVudHJ5ID0gc3RvcmUuX211dGF0aW9uc1t0eXBlXSB8fCAoc3RvcmUuX211dGF0aW9uc1t0eXBlXSA9IFtdKTtcbiAgZW50cnkucHVzaChmdW5jdGlvbiB3cmFwcGVkTXV0YXRpb25IYW5kbGVyIChwYXlsb2FkKSB7XG4gICAgaGFuZGxlci5jYWxsKHN0b3JlLCBsb2NhbC5zdGF0ZSwgcGF5bG9hZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckFjdGlvbiAoc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKSB7XG4gIHZhciBlbnRyeSA9IHN0b3JlLl9hY3Rpb25zW3R5cGVdIHx8IChzdG9yZS5fYWN0aW9uc1t0eXBlXSA9IFtdKTtcbiAgZW50cnkucHVzaChmdW5jdGlvbiB3cmFwcGVkQWN0aW9uSGFuZGxlciAocGF5bG9hZCkge1xuICAgIHZhciByZXMgPSBoYW5kbGVyLmNhbGwoc3RvcmUsIHtcbiAgICAgIGRpc3BhdGNoOiBsb2NhbC5kaXNwYXRjaCxcbiAgICAgIGNvbW1pdDogbG9jYWwuY29tbWl0LFxuICAgICAgZ2V0dGVyczogbG9jYWwuZ2V0dGVycyxcbiAgICAgIHN0YXRlOiBsb2NhbC5zdGF0ZSxcbiAgICAgIHJvb3RHZXR0ZXJzOiBzdG9yZS5nZXR0ZXJzLFxuICAgICAgcm9vdFN0YXRlOiBzdG9yZS5zdGF0ZVxuICAgIH0sIHBheWxvYWQpO1xuICAgIGlmICghaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcyA9IFByb21pc2UucmVzb2x2ZShyZXMpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUuX2RldnRvb2xIb29rKSB7XG4gICAgICByZXR1cm4gcmVzLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgc3RvcmUuX2RldnRvb2xIb29rLmVtaXQoJ3Z1ZXg6ZXJyb3InLCBlcnIpO1xuICAgICAgICB0aHJvdyBlcnJcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckdldHRlciAoc3RvcmUsIHR5cGUsIHJhd0dldHRlciwgbG9jYWwpIHtcbiAgaWYgKHN0b3JlLl93cmFwcGVkR2V0dGVyc1t0eXBlXSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBkdXBsaWNhdGUgZ2V0dGVyIGtleTogXCIgKyB0eXBlKSk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIHN0b3JlLl93cmFwcGVkR2V0dGVyc1t0eXBlXSA9IGZ1bmN0aW9uIHdyYXBwZWRHZXR0ZXIgKHN0b3JlKSB7XG4gICAgcmV0dXJuIHJhd0dldHRlcihcbiAgICAgIGxvY2FsLnN0YXRlLCAvLyBsb2NhbCBzdGF0ZVxuICAgICAgbG9jYWwuZ2V0dGVycywgLy8gbG9jYWwgZ2V0dGVyc1xuICAgICAgc3RvcmUuc3RhdGUsIC8vIHJvb3Qgc3RhdGVcbiAgICAgIHN0b3JlLmdldHRlcnMgLy8gcm9vdCBnZXR0ZXJzXG4gICAgKVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbmFibGVTdHJpY3RNb2RlIChzdG9yZSkge1xuICBzdG9yZS5fdm0uJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RhdGEuJCRzdGF0ZSB9LCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGFzc2VydChzdG9yZS5fY29tbWl0dGluZywgXCJkbyBub3QgbXV0YXRlIHZ1ZXggc3RvcmUgc3RhdGUgb3V0c2lkZSBtdXRhdGlvbiBoYW5kbGVycy5cIik7XG4gICAgfVxuICB9LCB7IGRlZXA6IHRydWUsIHN5bmM6IHRydWUgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE5lc3RlZFN0YXRlIChzdGF0ZSwgcGF0aCkge1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlLCBrZXkpIHsgcmV0dXJuIHN0YXRlW2tleV07IH0sIHN0YXRlKVxufVxuXG5mdW5jdGlvbiB1bmlmeU9iamVjdFN0eWxlICh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKSB7XG4gIGlmIChpc09iamVjdCh0eXBlKSAmJiB0eXBlLnR5cGUpIHtcbiAgICBvcHRpb25zID0gcGF5bG9hZDtcbiAgICBwYXlsb2FkID0gdHlwZTtcbiAgICB0eXBlID0gdHlwZS50eXBlO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBhc3NlcnQodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnLCAoXCJleHBlY3RzIHN0cmluZyBhcyB0aGUgdHlwZSwgYnV0IGZvdW5kIFwiICsgKHR5cGVvZiB0eXBlKSArIFwiLlwiKSk7XG4gIH1cblxuICByZXR1cm4geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkLCBvcHRpb25zOiBvcHRpb25zIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbCAoX1Z1ZSkge1xuICBpZiAoVnVlICYmIF9WdWUgPT09IFZ1ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnW3Z1ZXhdIGFscmVhZHkgaW5zdGFsbGVkLiBWdWUudXNlKFZ1ZXgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlLidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIFZ1ZSA9IF9WdWU7XG4gIGFwcGx5TWl4aW4oVnVlKTtcbn1cblxuLyoqXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGdldHRpbmcgdGhlIHN0YXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gc3RhdGVzICMgT2JqZWN0J3MgaXRlbSBjYW4gYmUgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHQgc3RhdGUgYW5kIGdldHRlcnMgZm9yIHBhcmFtLCB5b3UgY2FuIGRvIHNvbWV0aGluZyBmb3Igc3RhdGUgYW5kIGdldHRlcnMgaW4gaXQuXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqL1xudmFyIG1hcFN0YXRlID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIHN0YXRlcykge1xuICB2YXIgcmVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1ZhbGlkTWFwKHN0YXRlcykpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwU3RhdGU6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKHN0YXRlcykuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XG5cbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZFN0YXRlICgpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuJHN0b3JlLnN0YXRlO1xuICAgICAgdmFyIGdldHRlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzO1xuICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICB2YXIgbW9kdWxlID0gZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBTdGF0ZScsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUgPSBtb2R1bGUuY29udGV4dC5zdGF0ZTtcbiAgICAgICAgZ2V0dGVycyA9IG1vZHVsZS5jb250ZXh0LmdldHRlcnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHZhbC5jYWxsKHRoaXMsIHN0YXRlLCBnZXR0ZXJzKVxuICAgICAgICA6IHN0YXRlW3ZhbF1cbiAgICB9O1xuICAgIC8vIG1hcmsgdnVleCBnZXR0ZXIgZm9yIGRldnRvb2xzXG4gICAgcmVzW2tleV0udnVleCA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLyoqXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGNvbW1pdHRpbmcgdGhlIG11dGF0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZV0gLSBNb2R1bGUncyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBtdXRhdGlvbnMgIyBPYmplY3QncyBpdGVtIGNhbiBiZSBhIGZ1bmN0aW9uIHdoaWNoIGFjY2VwdCBgY29tbWl0YCBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW0sIGl0IGNhbiBhY2NlcHQgYW50aG9yIHBhcmFtcy4gWW91IGNhbiBjb21taXQgbXV0YXRpb24gYW5kIGRvIGFueSBvdGhlciB0aGluZ3MgaW4gdGhpcyBmdW5jdGlvbi4gc3BlY2lhbGx5LCBZb3UgbmVlZCB0byBwYXNzIGFudGhvciBwYXJhbXMgZnJvbSB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwTXV0YXRpb25zID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIG11dGF0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1ZhbGlkTWFwKG11dGF0aW9ucykpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwTXV0YXRpb25zOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xuICB9XG4gIG5vcm1hbGl6ZU1hcChtdXRhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgIHZhciB2YWwgPSByZWYudmFsO1xuXG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRNdXRhdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgLy8gR2V0IHRoZSBjb21taXQgbWV0aG9kIGZyb20gc3RvcmVcbiAgICAgIHZhciBjb21taXQgPSB0aGlzLiRzdG9yZS5jb21taXQ7XG4gICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciBtb2R1bGUgPSBnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcE11dGF0aW9ucycsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29tbWl0ID0gbW9kdWxlLmNvbnRleHQuY29tbWl0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB2YWwuYXBwbHkodGhpcywgW2NvbW1pdF0uY29uY2F0KGFyZ3MpKVxuICAgICAgICA6IGNvbW1pdC5hcHBseSh0aGlzLiRzdG9yZSwgW3ZhbF0uY29uY2F0KGFyZ3MpKVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLyoqXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGdldHRpbmcgdGhlIGdldHRlcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlXSAtIE1vZHVsZSdzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGdldHRlcnNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIG1hcEdldHRlcnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgZ2V0dGVycykge1xuICB2YXIgcmVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1ZhbGlkTWFwKGdldHRlcnMpKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcEdldHRlcnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKGdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgIHZhciB2YWwgPSByZWYudmFsO1xuXG4gICAgLy8gVGhlIG5hbWVzcGFjZSBoYXMgYmVlbiBtdXRhdGVkIGJ5IG5vcm1hbGl6ZU5hbWVzcGFjZVxuICAgIHZhbCA9IG5hbWVzcGFjZSArIHZhbDtcbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZEdldHRlciAoKSB7XG4gICAgICBpZiAobmFtZXNwYWNlICYmICFnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcEdldHRlcnMnLCBuYW1lc3BhY2UpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgISh2YWwgaW4gdGhpcy4kc3RvcmUuZ2V0dGVycykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBnZXR0ZXI6IFwiICsgdmFsKSk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbdmFsXVxuICAgIH07XG4gICAgLy8gbWFyayB2dWV4IGdldHRlciBmb3IgZGV2dG9vbHNcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZGlzcGF0Y2ggdGhlIGFjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gYWN0aW9ucyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IGBkaXNwYXRjaGAgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IHBhcmFtLCBpdCBjYW4gYWNjZXB0IGFudGhvciBwYXJhbXMuIFlvdSBjYW4gZGlzcGF0Y2ggYWN0aW9uIGFuZCBkbyBhbnkgb3RoZXIgdGhpbmdzIGluIHRoaXMgZnVuY3Rpb24uIHNwZWNpYWxseSwgWW91IG5lZWQgdG8gcGFzcyBhbnRob3IgcGFyYW1zIGZyb20gdGhlIG1hcHBlZCBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIG1hcEFjdGlvbnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgYWN0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1ZhbGlkTWFwKGFjdGlvbnMpKSB7XG4gICAgY29uc29sZS5lcnJvcignW3Z1ZXhdIG1hcEFjdGlvbnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKGFjdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciBrZXkgPSByZWYua2V5O1xuICAgIHZhciB2YWwgPSByZWYudmFsO1xuXG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRBY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgIC8vIGdldCBkaXNwYXRjaCBmdW5jdGlvbiBmcm9tIHN0b3JlXG4gICAgICB2YXIgZGlzcGF0Y2ggPSB0aGlzLiRzdG9yZS5kaXNwYXRjaDtcbiAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIG1vZHVsZSA9IGdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwQWN0aW9ucycsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghbW9kdWxlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2ggPSBtb2R1bGUuY29udGV4dC5kaXNwYXRjaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gdmFsLmFwcGx5KHRoaXMsIFtkaXNwYXRjaF0uY29uY2F0KGFyZ3MpKVxuICAgICAgICA6IGRpc3BhdGNoLmFwcGx5KHRoaXMuJHN0b3JlLCBbdmFsXS5jb25jYXQoYXJncykpXG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlYmluZGluZyBuYW1lc3BhY2UgcGFyYW0gZm9yIG1hcFhYWCBmdW5jdGlvbiBpbiBzcGVjaWFsIHNjb3BlZCwgYW5kIHJldHVybiB0aGVtIGJ5IHNpbXBsZSBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSkgeyByZXR1cm4gKHtcbiAgbWFwU3RhdGU6IG1hcFN0YXRlLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcbiAgbWFwR2V0dGVyczogbWFwR2V0dGVycy5iaW5kKG51bGwsIG5hbWVzcGFjZSksXG4gIG1hcE11dGF0aW9uczogbWFwTXV0YXRpb25zLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcbiAgbWFwQWN0aW9uczogbWFwQWN0aW9ucy5iaW5kKG51bGwsIG5hbWVzcGFjZSlcbn0pOyB9O1xuXG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgbWFwXG4gKiBub3JtYWxpemVNYXAoWzEsIDIsIDNdKSA9PiBbIHsga2V5OiAxLCB2YWw6IDEgfSwgeyBrZXk6IDIsIHZhbDogMiB9LCB7IGtleTogMywgdmFsOiAzIH0gXVxuICogbm9ybWFsaXplTWFwKHthOiAxLCBiOiAyLCBjOiAzfSkgPT4gWyB7IGtleTogJ2EnLCB2YWw6IDEgfSwgeyBrZXk6ICdiJywgdmFsOiAyIH0sIHsga2V5OiAnYycsIHZhbDogMyB9IF1cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBtYXBcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTWFwIChtYXApIHtcbiAgaWYgKCFpc1ZhbGlkTWFwKG1hcCkpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICByZXR1cm4gQXJyYXkuaXNBcnJheShtYXApXG4gICAgPyBtYXAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICh7IGtleToga2V5LCB2YWw6IGtleSB9KTsgfSlcbiAgICA6IE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICh7IGtleToga2V5LCB2YWw6IG1hcFtrZXldIH0pOyB9KVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgZ2l2ZW4gbWFwIGlzIHZhbGlkIG9yIG5vdFxuICogQHBhcmFtIHsqfSBtYXBcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRNYXAgKG1hcCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShtYXApIHx8IGlzT2JqZWN0KG1hcClcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiBleHBlY3QgdHdvIHBhcmFtIGNvbnRhaW5zIG5hbWVzcGFjZSBhbmQgbWFwLiBpdCB3aWxsIG5vcm1hbGl6ZSB0aGUgbmFtZXNwYWNlIGFuZCB0aGVuIHRoZSBwYXJhbSdzIGZ1bmN0aW9uIHdpbGwgaGFuZGxlIHRoZSBuZXcgbmFtZXNwYWNlIGFuZCB0aGUgbWFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lc3BhY2UgKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobmFtZXNwYWNlLCBtYXApIHtcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG1hcCA9IG5hbWVzcGFjZTtcbiAgICAgIG5hbWVzcGFjZSA9ICcnO1xuICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlLmNoYXJBdChuYW1lc3BhY2UubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgbmFtZXNwYWNlICs9ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIGZuKG5hbWVzcGFjZSwgbWFwKVxuICB9XG59XG5cbi8qKlxuICogU2VhcmNoIGEgc3BlY2lhbCBtb2R1bGUgZnJvbSBzdG9yZSBieSBuYW1lc3BhY2UuIGlmIG1vZHVsZSBub3QgZXhpc3QsIHByaW50IGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RvcmVcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWxwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0TW9kdWxlQnlOYW1lc3BhY2UgKHN0b3JlLCBoZWxwZXIsIG5hbWVzcGFjZSkge1xuICB2YXIgbW9kdWxlID0gc3RvcmUuX21vZHVsZXNOYW1lc3BhY2VNYXBbbmFtZXNwYWNlXTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIW1vZHVsZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIG1vZHVsZSBuYW1lc3BhY2Ugbm90IGZvdW5kIGluIFwiICsgaGVscGVyICsgXCIoKTogXCIgKyBuYW1lc3BhY2UpKTtcbiAgfVxuICByZXR1cm4gbW9kdWxlXG59XG5cbnZhciBpbmRleF9lc20gPSB7XG4gIFN0b3JlOiBTdG9yZSxcbiAgaW5zdGFsbDogaW5zdGFsbCxcbiAgdmVyc2lvbjogJzMuMS4zJyxcbiAgbWFwU3RhdGU6IG1hcFN0YXRlLFxuICBtYXBNdXRhdGlvbnM6IG1hcE11dGF0aW9ucyxcbiAgbWFwR2V0dGVyczogbWFwR2V0dGVycyxcbiAgbWFwQWN0aW9uczogbWFwQWN0aW9ucyxcbiAgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnM6IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzXG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleF9lc207XG5leHBvcnQgeyBTdG9yZSwgaW5zdGFsbCwgbWFwU3RhdGUsIG1hcE11dGF0aW9ucywgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=